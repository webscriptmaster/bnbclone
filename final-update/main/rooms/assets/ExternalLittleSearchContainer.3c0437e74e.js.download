__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=x;var t=s(r(d[0])),u=s(r(d[1])),l=s(r(d[2])),n=r(d[3]),f=s(r(d[4])),o=s(r(d[5]));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,u){var l={};for(var n in t)u.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(l[n]=t[n]);return l}var p=(0,n.mutuallyExclusiveProps)(u.default.string,'phrase','k'),h=new RegExp('('+String(['&[A-Za-z0-9]{2,};','&#[0-9]+;','&#x[0-9a-fA-F]+;'].join('|'))+')','g'),v={k:p,t:u.default.string,phrase:p,context:u.default.string,html:u.default.bool},_=void 0===t.default.Fragment?'span':t.default.Fragment;function x(u){var n=u.k,s=u.t,p=u.phrase,v=u.context,x=u.html,y=c(u,['k','t','phrase','context','html']);if(x){var E={};(0,l.default)(y,'smart_count')&&(E.smart_count=y.smart_count),(0,l.default)(y,'default')&&(E.default=y.default);var O=s;O||(O=p?f.default.phrase(p,E,v):f.default.t(n,E));var b=0,j=Object.assign({},y),k=O.replace(h,(function(t){var u='htmlEntity'+b;return b+=1,j[u+'_dangerous_html']=t,'%{'+u+'}'}));return t.default.createElement(o.default,{html:!0,text:k,values:j})}return t.default.createElement(_,null,p?f.default.phrase(p,y,v):f.default.t(n,y))}x.propTypes=v,x.defaultProps={html:!1},m.exports=e.default}),"030c51",["07aa1f","b56f5a","c26685","a41b8e","a9f4b1","6a27d4"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,s=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({stagedFilters:t,filterSection:s,onChange:F,searchContext:v,onClear:j,isActive:D,labels:P,onOutsideFocus:S,onPress:y,selectedInputComponentId:E,placeholders:b}){const L=(0,u.useCx)(),O=(0,h.useEvent)((()=>{const l=(0,f.filterKeys)({sections:[s]}).filter((t=>!_.SUPER_FLEX_DATES_KEYS.includes(t)));j(l,(l=>{v&&(0,p.logFilterClearClicked)(v,s.filterSectionId||'',l,t)}))})),{microFlexItems:k,monthlyDial:z,tripLength:A,tripDates:K}=(0,l.useMemo)((()=>(0,I.default)(s)),[s.filterSectionId]),M=(0,C.jsx)(n.default,{fullWidth:!0,dataTestId:`structured-search-input-field-${E}-button`,children:(0,C.jsx)("div",{className:L(x.datesPanelContainer),children:(0,C.jsx)(o.default,{stagedFilters:t,microFlexItems:k,monthlyDial:z,tripLength:A,tripDates:K,onChange:F,searchContext:v})})});return(0,C.jsx)(c.default,{firstInput:!1,lastInput:!1,searchButton:null,active:D,labels:P,onClearPress:O,onOutsideFocus:S,onPress:y,panel:M,placeholders:b,selectedSearchInputFieldId:E,stagedFilters:t,tripLengthItems:A?.items||null,tripDatesItems:K?.items||null,monthlyDial:z})};var l=s(r(d[2])),n=(r(d[3]),t(r(d[4]))),o=t(r(d[5])),u=(r(d[6]),r(d[7])),c=t(r(d[8])),h=r(d[9]),f=r(d[10]),_=r(d[11]),p=r(d[12]),I=t(r(d[13])),C=r(d[14]);const x={datesPanelContainer:"dy59mm4 atm_l8_idpfg4 atm_9s_1txwivl atm_h_1h6ojuz atm_fc_1h6ojuz atm_l8_10us9ju__1evrp4k"}}),"05362c",["ba7a76","45f788","07aa1f","ea4b89","3827c2","0e5bbf","de2718","4786a8","b54bba","f4e9c4","5cab40","881384","e2b8de","530612","b8c07d"]);
__d((function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])}),"09a5e5",["b1e39b"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pageHasScrollbarGutter=function(){if(!document||!document.documentElement)return!1;return document.documentElement.classList.contains(t.scrollbarGutterClassName)};var t=r(d[0])}),"0b813f",["3cf1d7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){switch(t){case E.EXPLORE_TABS.ALL:return 1;case E.EXPLORE_TABS.EXPERIENCES:return 3;case E.EXPLORE_TABS.HOMES:return 2;case E.EXPLORE_TABS.LUXURY:return 10;case E.EXPLORE_TABS.RESTAURANTS:return 9;case E.EXPLORE_TABS.SELECT_HOMES:return 8;case E.EXPLORE_TABS.STORIES:return 7;case E.EXPLORE_TABS.ADVENTURES:return 13;case E.EXPLORE_TABS.FLIGHTS:return 14;default:return 5}};var E=r(d[0])}),"0c66be",["87916a"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.defaultSearchContext=void 0,e.searchContextCreator=function(t,n,u,f,h,l,v){if(!t&&!n)return o;const p=v?(0,s.camelKeysToSnakeKeys)((0,_.default)(v,'__typename')):void 0;return{search_id:u||'',federated_search_id:t||'',federated_search_session_id:n||'',page_context:p,mobile_search_session_id:'',subtab:(0,c.default)(f),location:h.query||h.location||void 0,dates:[h.checkin||'',h.checkout||''],guests:(h.adults||0)+(h.children||0),refinement_paths:h.refinement_paths?.[0]||void 0,query_place_id:h.place_id||l||void 0}};var s=r(d[1]),_=t(r(d[2])),c=t(r(d[3]));const o=e.defaultSearchContext=Object.freeze({search_id:'',federated_search_id:'',federated_search_session_id:'',mobile_search_session_id:''})}),"0cfd28",["ba7a76","2755ca","3d4f9e","0c66be"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default}),"1b715c",["ba7a76","58ff34"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default,t=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.useComputed=function(n){var t=(0,f.useRef)(n);return t.current=n,(0,f.useMemo)((function(){return(0,o.computed)((function(){return t.current()}))}),s)},e.useSignal=function(n){return(0,f.useMemo)((function(){return(0,o.signal)(n)}),s)},e.useSignalEffect=function(n){var t=(0,f.useRef)(n);t.current=n,(0,f.useEffect)((function(){return(0,o.effect)((function(){return t.current()}))}),s)},e.useSignals=function(n){return P(n)};var u,o=r(d[2]),f=t(r(d[3])),c=r(d[4]),s=(n(r(d[5])),n(r(d[6])),new Map,[]),l=Symbol.for("react.element"),v=function(){},p=Symbol.dispose||Symbol.for("Symbol.dispose");function S(n,t){var o=t.effect.S();return u=t,b.bind(t,n,o)}function b(n,t){t(),u=n}(h={u:0,effect:{s:void 0,c:function(){},S:function(){return v},d:function(){}},subscribe:function(){return v},getSnapshot:function(){return 0},S:function(){},f:function(){}})[p]=function(){};var h,y,M=Promise.prototype.then.bind(Promise.resolve());function P(n){void 0===n&&(n=0),y||(y=M((function(){var n;y=void 0,null==(n=u)||n.f()})));var t=(0,f.useRef)();null==t.current&&(t.current=(function(n){var t,f,c,s,l=0,v=(0,o.effect)((function(){f=this}));return f.c=function(){l=l+1|0,s&&s()},(t={u:n,effect:f,subscribe:function(n){return s=n,function(){l=l+1|0,s=void 0,v()}},getSnapshot:function(){return l},S:function(){if(null!=u){var n=u.u,t=this.u;0==n&&0==t||0==n&&1==t?(u.f(),c=S(void 0,this)):1==n&&0==t||2==n&&0==t||(c=S(u,this))}else c=S(void 0,this)},f:function(){null==c||c(),c=void 0}})[p]=function(){this.f()},t})(n));var s=t.current;return(0,c.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot),s.S(),s}Object.defineProperties(o.Signal.prototype,{$$typeof:{configurable:!0,value:l},type:{configurable:!0,value:function(n){var t=n.data,u=P(1);try{return t.value}finally{u.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}})}),"250cdf",["ba7a76","45f788","a954a0","07aa1f","69b03d","b8c07d","09a5e5"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.signalToRef=t,e.useSignalToRef=function(l){const o=(0,u.useSignal)(null),s=l||o;(0,n.useEffect)((()=>function(){s.value=null}),[s]);const f=(0,n.useMemo)((()=>t(s)),[s]),c=[s,f];return c.signal=s,c.ref=f,c};var n=r(d[0]),u=r(d[1]);function t(n){return u=>{n.value=u}}}),"2637d5",["07aa1f","e086eb"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.camelKeysToSnakeKeys=function(n){return(0,u.default)(n,o,t.camelToSnakeCachingMiddleware)},e.camelKeysToSnakeKeysWithExceptions=function(n,t){return(0,u.default)(n,(n=>t.includes(n)?n:o(n)))},e.camelToSnake=o,e.default=c,e.deprecatedCamelKeysToSnakeKeys=function(n){return(0,u.default)(n,c)};var t=r(d[1]),u=n(r(d[2]));function c(n){return n.replace(/[A-Z]+/g,(n=>`_${n.toLowerCase()}`))}function o(n){return n.replace(/[A-Z]/g,(n=>`_${n.toLowerCase()}`))}}),"2755ca",["ba7a76","a1321d","3eb10d"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(n){return null==n?[]:Array.isArray(n)?n.flatMap(t):'string'==typeof n?[n]:[JSON.stringify(n)]}Object.defineProperty(e,"__esModule",{value:!0}),e.convertToRawParams=function(n){const s=[];return Object.keys(n).forEach((o=>{const u=t(n[o]);s.push({filterName:o,filterValues:u})})),s}}),"294886",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null==t)return null;return{maxValue:t?.metadata?.maxValue??null,minValue:t?.metadata?.minValue??0,searchParams:(0,l.default)(t?.searchParams),text:{__typename:'TitleSubtitleText',title:t?.title||'',subtitle:t?.subtitle||''}}};var l=t(r(d[1]))}),"306d90",["ba7a76","33b62f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var l=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){if(null==l)return null;return{params:l.params?.filter(u.default).map((l=>({key:l.key,value:t(l.value),inArray:l.inArray,valueType:l.valueType})))??null,resetKeys:l.resetKeys?.filter(u.default)??null}};var u=l(r(d[1]));function n(l,u){return Object.prototype.hasOwnProperty.call(l,u)}function t(l){return null==l?null:n(l,'booleanValue')?{__typename:'BoolValue',booleanValue:l.booleanValue}:n(l,'doubleValue')?{__typename:'DoubleValue',doubleValue:l.doubleValue}:n(l,'longValue')?{__typename:'LongValue',longValue:l.longValue}:n(l,'integerValue')?{__typename:'LongValue',longValue:String(l.integerValue)}:n(l,'stringValue')?{__typename:'StringValue',stringValue:l.stringValue}:null}}),"33b62f",["ba7a76","f30bc0"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getSearchContextWithSectionAttributes=function(t,n,o){return{...u(n,o),bankai_section_id:t?.bankaiSectionId||void 0,section_id:t?.sectionId||'',section_type_uid:t?.sectionTypeUid||void 0,section_logging_id:t?.sectionLoggingId||void 0}},e.useSearchContext=function(t){const o=(0,s.default)();return(0,n.useMemo)((()=>u(t?.loggingContext,o)),[t?.loggingContext,o])};var n=r(d[1]),o=r(d[2]),c=r(d[3]),s=t(r(d[4]));function u(t,n){return(0,c.searchContextCreator)(t?.federatedSearchId,t?.federatedSearchSessionId,null,(0,o.getTabFromRefinementPaths)(n.refinement_paths),n,null,t?.pageLoggingContext)}}),"3702d7",["ba7a76","07aa1f","aea415","0cfd28","f98e43"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const[s,o]=(0,l.useReducer)(c,t);return[s,o]};var l=r(d[1]),s=t(r(d[2])),o=r(d[3]);function c(t,l){switch(l.type){case'UPDATE':{const{updatedValues:o,callback:n,options:u}=l.payload,f=!(c=(0,s.default)(t,o)).adults&&(c.children||c.infants||c.pets)?{...c,adults:1}:c;if(n){let t=f;u?.adjustFiltersBeforeCallback&&(t=u.adjustFiltersBeforeCallback(f)),n(t)}return f}case'REMOVE_KEYS':{const{filterStateSerializationContexts:s,callback:c,keysToRemove:n}=l.payload,u=(0,o.clearFilterState)({paramKeysToRemove:n,stagedFilters:t,filterStateSerializationContexts:s});return c&&c(u),u}case'RESET':{const{newStagedFilters:t,callback:s,options:o}=l.payload;if(s){let l=t;o?.adjustFiltersBeforeCallback&&(l=o.adjustFiltersBeforeCallback(t)),s(l)}return t}default:return t}var c}}),"381c29",["ba7a76","07aa1f","9f671c","f76dc1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){const o='function'==typeof n?n:t=>(t||{})[n||''],c={};return(t||[]).forEach((t=>{const n=o(t);n&&(c[n]=t)})),c}}),"3d19ab",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,...n){if(null==t)return{};const u=new Set(n.flat().map(String));return Object.fromEntries(Object.entries(t||{}).filter((([t])=>!u.has(t))))}}),"3d4f9e",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.floatingIconCssFragments=e.default=void 0;r(d[0]);var t=r(d[1]);r(d[2]),r(d[3]),r(d[4]);const n=e.floatingIconCssFragments={component:"\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    border-style: solid;\n    border-width: 1px;\n    padding: 0;\n    margin: 0;\n    background-clip: padding-box;\n    background-color: rgba(255, 255, 255, 0.9);\n    border-color: var(--linaria-theme_palette-shadow100); /* migrated from rgba(0, 0, 0, 0.08) */\n    color: var(--linaria-theme_palette-text-primary); /* migrated from theme.palette.hof */\n    box-shadow: 0 0 0 1px transparent, 0 0 0 4px transparent, var(--linaria-theme_elevation-tertiary-box-shadow);\n\n    transition: transform 0.25s var(--linaria-theme_motion-standard-curve-animation-timing-function);\n    @media (prefers-reduced-motion: reduce), (update: slow), (update: none) {\n      transition: none;\n    }\n    outline: none;   &::-moz-focus-inner {     border: none;     padding: 0;     margin: 0;   }   &:focus::-moz-focus-inner {     border: none;   }   &:-moz-focusring {     outline: none;   }\n\n    :focus-visible {                   @media (prefers-reduced-motion: reduce), (update: slow), (update: none) {       transition: none;     }     transition: box-shadow 0.2s var(--linaria-theme_motion-standard-curve-animation-timing-function);          border-color: var(--linaria-theme_palette-border-primary); /* migrated from theme.palette.hof */       /* stylelint-disable declaration-block-no-shorthand-property-overrides */       background: var(--linaria-theme_palette-bg-primary); /* migrated from theme.palette.white */       /* stylelint-enable declaration-block-no-shorthand-property-overrides */       color: var(--linaria-theme_palette-text-primary); /* migrated from theme.palette.hof */       box-shadow: 0 0 0 1px var(--linaria-theme_palette-border-primary), 0 0 0 4px var(--linaria-theme_palette-bg-primary),         var(--linaria-theme_elevation-tertiary-box-shadow);       transform: scale(1.04);          }     @supports not selector(:focus-visible) {       :focus {                     @media (prefers-reduced-motion: reduce), (update: slow), (update: none) {       transition: none;     }     transition: box-shadow 0.2s var(--linaria-theme_motion-standard-curve-animation-timing-function);          border-color: var(--linaria-theme_palette-border-primary); /* migrated from theme.palette.hof */       /* stylelint-disable declaration-block-no-shorthand-property-overrides */       background: var(--linaria-theme_palette-bg-primary); /* migrated from theme.palette.white */       /* stylelint-enable declaration-block-no-shorthand-property-overrides */       color: var(--linaria-theme_palette-text-primary); /* migrated from theme.palette.hof */       box-shadow: 0 0 0 1px var(--linaria-theme_palette-border-primary), 0 0 0 4px var(--linaria-theme_palette-bg-primary),         var(--linaria-theme_elevation-tertiary-box-shadow);       transform: scale(1.04);            }     }\n\n\n\n\n\n\n\n\n\n\n       \n\n    @media (hover: hover) {       &:hover {                border-color: var(--linaria-theme_palette-shadow100); /* migrated from rgba(0, 0, 0, 0.08) */       background-color: var(--linaria-theme_palette-bg-primary); /* migrated from theme.palette.white */       color: var(--linaria-theme_palette-text-primary-hover); /* migrated from theme.palette.black */       box-shadow: 0 0 0 1px transparent, 0 0 0 4px transparent,         var(--linaria-theme_elevation-secondary-box-shadow);       transform: scale(1.04);       /* we can remove this once all variants using these styles are migrated to Linaria       * this is here because RWS does not respect the ordering of keys in the        * backwards-compatible object, so we try to re-override hover styles       */       &:disabled {         border-color: var(--linaria-theme_palette-border-primary-disabled); /* migrated from theme.palette.deco */         background-color: var(--linaria-theme_palette-bg-primary); /* migrated from theme.palette.white */         color: var(--linaria-theme_palette-text-primary-disabled); /* migrated from theme.palette.deco */         box-shadow: none;         transform: scale(1);       }            }     }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n       \n\n\n    &:active {\n      border-color: var(--linaria-theme_palette-shadow100); /* migrated from rgba(0, 0, 0, 0.08) */\n      background-color: var(--linaria-theme_palette-bg-primary); /* migrated from theme.palette.white */\n      color: var(--linaria-theme_palette-text-primary-hover); /* migrated from theme.palette.black */\n      box-shadow: none;\n      transform: scale(1);\n    }\n\n    &:disabled {\n      border-color: var(--linaria-theme_palette-border-primary-disabled); /* migrated from theme.palette.deco */\n      background-color: var(--linaria-theme_palette-bg-primary); /* migrated from theme.palette.white */\n      color: var(--linaria-theme_palette-text-primary-disabled); /* migrated from theme.palette.deco */\n      box-shadow: none;\n      transform: scale(1);\n    }\n  "};e.default=(0,t.cssFragmentsObjToStylesFn)(n)}),"3ea206",["daa5d1","2d8af3","4786a8","0d3432","aabdb1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PARAM_VALUE_TYPE=e.PARAM_FILTER_CONDITION_TYPE=e.PARAM_ARRAY_VALUE_TYPES=void 0;let A=e.PARAM_VALUE_TYPE=(function(A){return A.ARRAY="array",A.BOOLEAN="boolean",A.FLOAT="float",A.INTEGER="integer",A.KNOWLEDGE_GRAPH_ARRAY="knowledge_graph_array",A.KNOWLEDGE_GRAPH_AND_ARRAY="knowledge_graph_and_array",A.KNOWLEDGE_GRAPH_OR_ARRAY="knowledge_graph_or_array",A.LINK="link",A.STRING="string",A})({});e.PARAM_ARRAY_VALUE_TYPES=[A.ARRAY,A.KNOWLEDGE_GRAPH_ARRAY,A.KNOWLEDGE_GRAPH_AND_ARRAY,A.KNOWLEDGE_GRAPH_OR_ARRAY];e.PARAM_FILTER_CONDITION_TYPE=(function(A){return A.NON_SERIALIZED="non_serialized",A})({})}),"45923d",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,...n){if(null==t)return{};const u=new Set([...n].flat().map(String));return Object.fromEntries(Object.entries(t).filter((([t])=>u.has(t))))}}),"45db44",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2]));function l(){const t=r(d[3]);return l=function(){return t},t}var c=r(d[4]),o=t(r(d[5])),u=r(d[6]),h=r(d[7]),p=r(d[8]),f=r(d[9]),S=r(d[10]),x=r(d[11]),E=r(d[12]),_=r(d[13]),C=r(d[14]),I=t(r(d[15])),F=r(d[16]),T=r(d[17]),y=t(r(d[18])),v=t(r(d[19])),A=t(r(d[20])),P=t(r(d[21])),D=t(r(d[22])),k=t(r(d[23])),N=t(r(d[24])),R=r(d[25]),b=t(r(d[26])),w=t(r(d[27])),j=t(r(d[28])),B=t(r(d[29])),G=r(d[30]),L=r(d[31]);function O(t,n){return t.find((({id:t})=>{switch(t){case'dates':return!n.checkin&&!n.checkout;case'guests':return null===((n.adults??null)||(n.children??null)||(n.infants??null));default:return!1}}))}function U(t,n,s,l){const c=l?'inline':'modal';switch(t){case'location':(0,f.logSearchInputLocationClick)({searchContext:n,selectedVertical:s,surface:c});break;case'dates':(0,f.logSearchInputCheckinCheckoutClick)({searchContext:n,selectedVertical:s,surface:c});break;case'guests':(0,f.logSearchInputGuestPickerClick)({searchContext:n,selectedVertical:s,surface:c})}}const M=['DATE_RANGE_COMBINED','DATE_RANGE_SPLIT','GUESTS','QUERY'];e.default=(0,c.withStyles)((()=>({queryFlex:{flex:'1 0 0%',minWidth:0},datesPanelContainer:{padding:0,display:'flex',alignItems:'center',justifyContent:'center','@media only screen and (min-width: 880px)':{padding:'18px 28px 10px 28px'}}})))((function({searchInputComponents:t,initialSelectedInputComponentId:n=null,stagedFilters:c,responseFilters:V,clearFilters:W,updateFilters:Y,filterSections:K,onAction:H,onSubmit:Q,hasAttachedPanel:$=!1,autocompleteVertical:q,refinementPaths:X,searchBlockId:z,searchContext:J,formHeader:Z,destinationRef:ee,isPlacesRecommendationEnabled:te,css:ne,styles:ae}){const[se,re]=(0,s.useState)(n);'STAYS'===z&&'dates'===se&&re('dates_start');const[le,ie]=(0,s.useState)(!!n);(0,s.useEffect)((()=>{n&&!se&&(re(n),ie(!0))}),[n]);const ce=n=>{re(t[n]?.id??null),ie(!0)},oe=(0,s.useMemo)((()=>(0,o.default)(K,'filterSectionId')),[K]),de=(0,s.useRef)(S.SearchType.UNKNOWN),ue=t=>{de.current=t},he=(0,R.useEvent)(((t,n)=>{Y(t,n),S.locationSearchTypes.includes(de.current)&&de.current!==S.SearchType.UNKNOWN||(de.current=S.SearchType.FILTER_CHANGE)})),pe=(0,s.useContext)(F.SearchSubmitBehaviorContext),fe=t=>{t&&t.preventDefault&&t.preventDefault(),J&&(0,f.logSearchInputSearchButtonClick)({searchContext:J,selectedVertical:z,surface:$?'inline':'modal'});let n={...c,...X&&{refinement_paths:X},...(0,E.isQueryingDifferentLocation)(c,V)&&{disable_auto_translation:null}};n=(0,T.setFlexibleSearchFilters)(n,V),(0,_.isDirty)(n,V,[..._.FILTER_KEYS,'refinement_paths'])&&(0,x.pushToSearchHistory)({stagedFilters:{...n,source:'structured_search_input_header'},responseFilters:V,searchType:de.current,shouldReloadInSameWindow:'reload-in-same-window'===pe,openInNewWindow:'open-in-new-window'===pe}),Q&&Q()},Se=(0,s.useRef)(!1);(0,s.useEffect)((()=>{Se.current&&(Se.current=!1,fe())}),[Se.current]),(0,P.default)(se);const ge=(0,L.jsx)(D.default,{active:le,dataTestId:"structured-search-input-search-button",onSubmit:fe,loggingID:"explore.v1.SearchButton",eventDataSchema:l().ExplorePageLoggingContext});return(0,L.jsx)(y.default,{onSubmit:fe,onOutsideFocus:()=>{re(null),ie(!1)},formHeader:Z,active:le,loggingID:"explore.SearchBar",children:t?.map((({desktopInputMode:n,desktopTitle:o,desktopPlaceholderText:S,filterSectionId:x,id:E},_)=>{if(!E||!x||!n)return null;if(!M.includes(n))return(0,C.reportError)(new Error(`Unknown searchInputComponent.desktopInputMode: ${n}`),{tags:{team:'search-input'}}),null;const F=E===se||'dates'===E&&!!se?.startsWith('dates'),T=S?.filter(I.default)||[],y=T[0]||'',P=_===t.length-1,D=n=>{const s=n&&O(t,n);1===t.length||n&&!s?Se.current=!0:s?re(s.id):ce(_+1)},R=()=>{re((t=>t===E?'':t))};if('QUERY'===n)return(0,s.createElement)("div",{...ne(ae.queryFlex),key:x},(0,L.jsx)(b.default,{id:x,label:o?.[0]||'',destinationCards:(0,B.default)(oe.stays_location_inspirations),selectedSearchInputFieldId:se,placeholder:y,clearFilters:W,onFocus:()=>{re(E),ie(!0),J&&X&&U(E,J,z||'',$)},onBlur:R,autocompleteVertical:q||null,refinementPath:X?.[0]||null,isActive:F,stagedFilters:c,onNextStep:D,currentSearchType:de,onSearchTypeChange:ue,onUpdateFilters:Y,searchContext:J,responseFilters:V,destinationRef:ee,placeChips:(0,G.extractPlaceChipsSection)(oe.stays_place_recommendations),placesByAreas:(0,G.extractPlaceByAreasSection)(oe.stays_place_recommendations),isPlacesRecommendationEnabled:te},x));const K=oe[x],Q=F&&('DATE_RANGE_COMBINED'===n?(0,L.jsx)(v.default,{fullWidth:!0,dataTestId:`structured-search-input-field-${E}-panel`,children:(0,L.jsx)("div",{...ne(ae.datesPanelContainer),children:(0,L.jsx)(k.default,{stagedFilters:c,onChange:he,searchContext:J})})}):null),Z='DATE_RANGE_COMBINED'===n||'DATE_RANGE_SPLIT'===n,le='GUESTS'===n,pe=(0,p.getDynamicLabel)({id:x,stagedFilters:c})||void 0,fe=t=>{const n='string'==typeof t?t:'';!F||'dates_start'===n&&'dates_end'===se||'dates_end'===n&&'dates_start'===se?(re('string'==typeof t?t:E),ie(!0),J&&X?.length&&U(E,J,z||'',$)):re('')},xe=()=>{const t=(0,u.filterKeys)({sections:[K]}).filter((t=>!h.SUPER_FLEX_DATES_KEYS.includes(t)));W(t,(t=>{J&&(0,f.logFilterClearClicked)(J,x,t,c)}))};return(0,L.jsxs)(s.default.Fragment,{children:[_>0&&(0,L.jsx)(A.default,{hidden:Z&&('location'===se||'dates_start'===se||'dates'===se)||le&&('dates'===se||'dates_end'===se||'guests'===se)}),(()=>{switch(n){case'DATE_RANGE_SPLIT':return(0,L.jsx)(j.default,{isActive:F,labels:o?.filter(I.default)||[],onClear:W,onOutsideFocus:R,onPress:fe,placeholders:T,selectedInputComponentId:se,stagedFilters:c,filterSection:K,onChange:he});case'GUESTS':return(0,L.jsx)(w.default,{id:"guests",active:F,clearFilters:W,filterSection:K,stagedFilters:c,updateFilterSection:he,onPress:fe,onOutsideFocus:R,searchContext:J,onAction:H,searchVertical:'homes'===q?'STAYS':'EXPERIENCES',label:o?.[0]||'',placeholder:y,loggingID:"explore.v1.SearchGuestInput",eventDataSchema:l().ExplorePageLoggingContext,searchButton:P?ge:void 0});default:return(0,L.jsx)(N.default,{firstInput:!1,searchButton:P?ge:void 0,label:o?.[0]||'',value:pe,placeholder:y,active:F,onPress:fe,onOutsideFocus:R,onClearPress:xe,panel:Q,afterActive:'dates'===se||'dates_end'===se,dataTestId:`structured-search-input-field-${E}-button`,eventDataSchema:l().ExplorePageLoggingContext})}})()]},x)}))})}))}),"4a96a2",["ba7a76","45f788","07aa1f","b097de","e0b084","3d19ab","5cab40","881384","8fd57a","e2b8de","6660fd","1b01f9","11d8cd","b48dff","f2f40f","f30bc0","48460f","8faa6c","8c7230","3827c2","687e4a","27ab25","e83138","1b46e6","8a67c2","f4e9c4","6dac1f","985705","05362c","8e139c","c3c6e6","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return{microFlexItems:c(t),monthlyDial:o(t),tripLength:P(t),tripDates:x(t)}};var l=t(r(d[1])),n=t(r(d[2])),s=t(r(d[3]));function u(t,l){const n=t.subsections?.find((t=>t?.filterSectionId===l));return n?.items}function c(t){const c=u(t,'date_picker_and_flexible_days'),o=c?.find((t=>'flexible_date_picker'===t?.type))?.subsectionItems?.[0],f=o?.items?.filter(n.default);if(null==f||0===f.length)return null;const _=f.map((t=>({exploreSearchParams:(0,s.default)(t.searchParams),text:t.title,value:t.value}))),p={exploreSearchParams:{params:null,resetKeys:['flexible_date_search_filter_type']},text:l.default.t('simple_search.mobile.exact_dates'),value:null};return _.unshift(p),_}function o(t){const l=u(t,'m3_monthly_stay_date_picker')?.[0];return null==l?null:{exploreSearchParams:(0,s.default)(l.searchParams),startDateMicroFlexItems:c(t),endDateMicroFlexItems:c(t)}}const f=(t,l)=>t?.find((t=>t?.subsectionItems?.[0]?.items?.[0]?.subType===l));function _(t){return null==t?null:{text:t.title,subtitle:t.subtitle,exploreSearchParams:(0,s.default)(t.searchParams)}}function p(t,l){const n=u(t,'super_flexible_lengths_and_dates'),s=f(n,l),c=s?.subsectionItems?.[0]?.items;return null==s||null==c?null:{data:s,items:c}}function x(t){const l=p(t,'SUPER_FLEXIBLE_TRIP_DATES');return null==l?null:{text:l.data.title,items:l.items.map(_)}}function h(t){return null==t?null:{text:t.title,exploreSearchParams:(0,s.default)(t.searchParams)}}function P(t){const l=p(t,'SUPER_FLEXIBLE_TRIP_LENGTH');return null==l?null:{text:l.data.title,items:l.items.map(h)}}}),"530612",["ba7a76","a9f4b1","f30bc0","33b62f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2]));function n(t){return(0,f.default)(t,'searchParams')}e.default=function(t){return n(t)&&t.searchParams?.params?.filter(u.default)||[]}}),"58ff34",["ba7a76","f30bc0","750095"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.filterKeys=function({sections:t=[],paramFilterConditionType:n}){const u=t.filter(l.default).reduce(((t,n)=>{const u=n?.subsections||[],l=n.filterItems||n.items||[],s=l?.map((t=>t?.subsectionItems?.[0]))||[];return t.concat([n,...u,...s])}),[]).map((t=>{if(null==t)return[];const{filterItems:u,items:l,filterSectionId:s}=t,c=u||l;return null==c||null==s?[]:A(c,s,n)}));return y(u)},e.filterNotEmpty=I,e.getManagedFilterKeys=A,e.hasFilters=function(t){return!!t&&!!t.sections&&t.sections.length>0},e.isChecked=function({item:t,searchFilters:n,filterStateSerializationContexts:u}){if(!t||!t.type||!(0,o.default)(t))return!1;switch(t.type){case s.PILL_CHECKBOX_WITH_IMAGE:case s.CHIP_CARD_CHECKBOX:case s.PILL_CHECKBOX:case s.CHECKBOX:case s.SWITCH:case s.MULTI_SELECT_PILL:return(0,o.default)(t).filter(l.default).reduce(((t,l)=>t||T(l,n,u)),!1);case s.TAB:return T((0,o.default)(t)[0],n);case s.SINGLE_SELECT_PILL:case s.RADIO:return(0,o.default)(t).filter(l.default).every((t=>T(t,n,u)));case s.SINGLE_SELECT_PILL_2:return(0,o.default)(t).filter(l.default).every((t=>T(t,n,u)))||(0,o.default)(t).filter(l.default).every((t=>null===t.value&&!n[t?.key||'']));case s.PRICE_SLIDER:case s.STEPPER:case s.DATE_PICKER:return(0,o.default)(t).reduce(((t,l)=>{if(null==l)return t;const s=(0,f.deserializeFilterState)(l.key,n,u,l.valueType);return t||null!=s}),!1);default:return!1}},e.isParamChecked=T,e.someKeyStaged=function(t,n){return(t||[]).some((t=>t&&I(n[t])))};r(d[1]);var n=t(r(d[2])),u=(t(r(d[3])),t(r(d[4]))),l=t(r(d[5])),s=r(d[6]),c=r(d[7]),f=r(d[8]),o=t(r(d[9]));const E=Object.freeze({guest_picker:['guests']});function _(t,n){if(!t)return[];return(0,o.default)(t).filter((t=>n!==c.PARAM_FILTER_CONDITION_TYPE.NON_SERIALIZED||!t?.isSerialized))}function I(t){return null!=t&&''!==t}function y(t){return(0,n.default)(t.flat(1))}function L(t,u){const s=t.map((t=>{const n=t?.filterItems||t?.items;return null==n?[]:n.map((t=>_(t,u).map((t=>t.key)).filter(l.default))).flat(1)})).flat(1);return(0,n.default)(s)}function S(t,n){return t?.subsectionItems?L(t.subsectionItems,n):_(t,n).map((t=>t.key)).filter(l.default)}function A(t,n,u){const l=y(t.map((t=>S(t,u))));return E[n]?[...l,...E[n]]:l}function T(t,n,l){const s=t?.key;if(!s)return!1;const o=(0,u.default)(t),E=(0,f.deserializeFilterState)(s,n,l,t.valueType);return c.PARAM_ARRAY_VALUE_TYPES.includes(t.valueType)?!(!Array.isArray(E)||!(E.includes(o)||E.includes(String(o))||E.find((t=>String(t)===String(o))))):t.isSerialized?E===String(o):t.valueType===c.PARAM_VALUE_TYPE.BOOLEAN?!!E:t.valueType===c.PARAM_VALUE_TYPE.INTEGER&&'string'==typeof E?E===String(o):E===o}}),"5cab40",["ba7a76","39778f","85500f","2e7a28","fe343c","f30bc0","dc9773","45923d","f76dc1","1b715c"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(t){const{value:u,valueType:n}=t;if(!u)return null;switch(n){case'DATE':return u.dateValue;case'STRING':return u.stringValue;case'BOOLEAN':return u.booleanValue;case'INTEGER':return u.integerValue;case'LONG':return u.longValue;case'DOUBLE':return u.doubleValue;case'STRING_ARRAY':return u.stringValues;case'BOOLEAN_ARRAY':return u.booleanValues;case'INTEGER_ARRAY':return u.integerValues;case'LONG_ARRAY':return u.longValues;case'DOUBLE_ARRAY':return u.doubleValues;default:return null}}function u(u){return u.reduce(((u,n)=>(null!=n.key&&(u[n.key]=t(n)),u)),{})}Object.defineProperty(e,"__esModule",{value:!0}),e.applyDynamicFiltersStateToClientFilterState=function(t,n){const l=u(n),s=new Set([...Object.keys(l),...Object.keys(t)]);return[...s].reduce(((u,n)=>{const s=l[n]??t[n];return(s||0===s)&&(u[n]=s),u}),{})}}),"6067d6",[]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function t(t,n){for(var o=0;o<n.length;o++){var l=n[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(n,o,l){return o&&t(n.prototype,o),l&&t(n,l),n}})(),n=u(r(d[0])),o=u(r(d[1])),l=u(r(d[2]));function u(t){return t&&t.__esModule?t:{default:t}}function f(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function c(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var p=void 0===o.default.Fragment?'span':o.default.Fragment,h={text:n.default.string.isRequired,elementType:n.default.oneOfType([n.default.string,n.default.oneOf([p])]),values:n.default.object},y={elementType:p,values:{}},v='_start',_='_end',b='_dangerous_html';function O(t,n){return t.slice(-n.length)===n}function k(t,n){var u=t.indexOf('}');if(-1!==u){var f=t.slice(0,u),s=0,c=null,p=!1;if(O(f,v)){var h=t.slice(u+1),y=f.slice(0,f.length-v.length),k=h.indexOf('%{'+String(y)+_+'}');if(-1===k)return void console.error('Missing closing token for '+String(f));var w=n[y];s=u+k+y.length+_.length+3+1,c=w?o.default.cloneElement(w,{},j(h.slice(0,k),n)):'%{'+String(t.slice(0,s))}else(0,l.default)(n,f+b)?(c=n[f+b],s=u+1,p=!0):(c=null!=n[f]?n[f]:'%{'+String(f)+'}',s=u+1);return{child:c,seek:s,keyName:f,html:p}}console.error('Missing closing } for I18n phrase '+String(t))}function j(t,n){for(var l=[],u=0,f=t;-1!==f.indexOf('%{');){var s=f.indexOf('%{');s>0&&l.push(f.slice(0,s));var c=f.slice(s+2),h=k(c,n);if(!h)break;h.html?l.push(o.default.createElement('span',{key:u,dangerouslySetInnerHTML:{__html:h.child}})):l.push(o.default.createElement(p,{key:u},h.child)),f=c.slice(h.seek),u+=1}return f&&l.push(f),l}var w=(function(n){function l(){return f(this,l),s(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return c(l,n),t(l,[{key:'componentDidCatch',value:function(t,n){console.error(t,n)}},{key:'render',value:function(){var t=this.props,n=t.elementType,l=t.text,u=t.values;return'string'!=typeof l?null:o.default.createElement(n,null,j(l,u))}}]),l})(o.default.Component);e.default=w,w.propTypes=h,w.defaultProps=y,m.exports=e.default}),"6a27d4",["b56f5a","07aa1f","c26685"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enqueueLoggingEvent=function(u){n.push(u)},e.flushLoggingEventQueue=function(u){n.forEach((n=>{n(u)})),n=[]};let n=[]}),"6ddee0",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const[o,s]=(0,t.useState)(!1);return{closeModal:(0,t.useCallback)((()=>s(!1)),[]),onAction:(0,t.useCallback)((t=>(s(!0),Promise.resolve())),[]),isOpen:o}};var t=r(d[0])}),"7296de",["07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const[o,f]=(0,s.default)(t),n=(0,u.default)(t);(0,l.useEffect)((()=>{(0,c.isDirty)(n,t,c.FILTER_KEYS)&&f({type:'RESET',payload:{newStagedFilters:t}})}),[f,n,t]);const p=(0,l.useCallback)(((t,l)=>{f({type:'UPDATE',payload:{updatedValues:t,callback:l}})}),[f]);return{clearFilters:(0,l.useCallback)(((t,l)=>{f({type:'REMOVE_KEYS',payload:{keysToRemove:t,callback:l}})}),[f]),stagedFilters:o,updateFilters:p}};var l=r(d[1]),s=t(r(d[2])),u=t(r(d[3])),c=r(d[4])}),"733a10",["ba7a76","07aa1f","381c29","67c39a","b48dff"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));const c={document:void 0,getDocument:()=>r(d[3])(d[2]).then(u.default).then((t=>t.default)),name:'SearchBlocksQuery',type:'query',operationId:'86e59c92b55e2b926550e251e3f5ac999681288a23584b26337d656beba6748c'};e.default=c}),"735206",["ba7a76","45f788","f9a236","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n=o(r(d[2]));let l,u=0;class s extends t.default.Component{componentDidMount(){const{preserveWindowScrollY:o,removePositionFixed:t}=this.props;0===u&&(l=(0,n.default)(o,t)),u+=1}shouldComponentUpdate(){return!1}componentWillUnmount(){u-=1,u<=0&&void 0!==l&&l()}render(){return null}}e.default=s,s.defaultProps={preserveWindowScrollY:!0,removePositionFixed:!1}}),"7543fe",["ba7a76","07aa1f","f2eee8"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){const c=u.default.useRef(n),f=u.default.useRef(t);t!==f.current&&(c.current=f.current,f.current=t);return c.current};var u=t(r(d[1]))}),"82dbdd",["ba7a76","07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({when:n,wrapper:f,children:l}){if(c(n))return t.default.cloneElement(f,{children:l});return(0,u.jsx)(u.Fragment,{children:l})};var t=n(r(d[1])),u=r(d[2]);function c(n){return'function'==typeof n?n():n}}),"82f5b0",["ba7a76","07aa1f","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Array.from(new Set(t))}}),"85500f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(null==t)return null;return{text:t.title,items:t.items?.map(u)??null}};var l=t(r(d[1]));function u(t){return null==t?null:{exploreSearchParams:(0,l.default)(t.searchParams),imageUrl:t.imageUrl,selected:t.selected,text:t.title}}}),"8e139c",["ba7a76","33b62f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,l=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({hideVerticalTabs:t=!1,searchBlocks:l,searchContext:u,filterSections:E,responseFilters:R}){const j=(0,x.useCx)(),B=(0,n.useRef)(null),F=(0,n.useRef)(null),V=(0,n.useContext)(k.ExpandedBeforeScrollContext),[N,P]=(0,T.useExpandedState)(),q=(0,n.useCallback)((()=>P(!0)),[]),L=(0,n.useCallback)((()=>P(!1)),[]),[z,O]=(0,n.useState)('');(0,h.default)({schema:s().LittleSearchDrawerPresentationSession},[],N),(0,f.default)(L,{ignoreSearch:V}),(0,_.default)('openSearchInputHeader',(t=>{t&&(O(t),q())})),(0,n.useEffect)((()=>{N||O('')}),[N]);const U=l?.find((t=>!0===t?.selected))||l?.[0],A=U?.searchInputUnion?.searchInputComponents?.filter(o.default),{scheduler:H}=(0,S.usePostTaskScheduler)({priority:'user-visible'}),G=(0,p.useEvent)((t=>{if(!A?.length)return;const l=(null!=t?A[t]:A[0])?.id??'';if(O(l),q(),(0,b.default)(l,u),'location'===l){if(null==B.current)return;B.current.focus(),H.setTimeout((()=>{const t=F.current?.value.length||0;F.current?.focus(),F.current?.setSelectionRange(t,t)}),v.ENTER_TRANSITION_DURATION)}})),M=A?.find((({id:t})=>'location'===t)),J=A?.find((({id:t})=>'dates'===t)),K=A?.find((({id:t})=>'guests'===t)),Q=D(R,J);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.default,{expanded:N,littleSearch:(0,w.jsx)(y.LittleSearchSBUI,{dataTestId:"little-search",eventDataSchema:c().ExplorePageLoggingContext,hasGuestValues:(R?.adults??0)>0,loggingID:"explore.SearchBar",onPress:G,locationText:R.query??M?.littleSearchTextValue,datesText:Q,guestsText:K?.littleSearchTextValue,microFlexDatesText:null,microFlexStartDateText:null,microFlexEndDateText:null,startDateText:null,endDateText:null}),bigSearch:(0,w.jsx)(I.default,{hideVerticalTabs:t,initialSelectedInputComponentId:z,loggingID:"simpleHeader.bigSearch.header",onSearchBlockSubmit:L,searchBlocks:l,searchContext:u,shouldLogImpression:N,destinationRef:F,filterSections:E,responseFilters:R})}),(0,w.jsx)("input",{className:j(C),type:"text","aria-hidden":!0,ref:B})]})};var n=l(r(d[2]));function s(){const t=r(d[3]);return s=function(){return t},t}r(d[4]);var u=t(r(d[5]));function c(){const t=r(d[6]);return c=function(){return t},t}var o=t(r(d[7])),f=t(r(d[8])),_=t(r(d[9])),h=t(r(d[10])),x=r(d[11]),p=(r(d[12]),r(d[13])),S=r(d[14]),T=r(d[15]),b=t(r(d[16])),v=l(r(d[17])),k=r(d[18]),y=r(d[19]),I=t(r(d[20])),w=r(d[21]);const C="muh9wos atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_15vqwwr atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts atm_vl_15vqwwr atm_vl_ewfl5b_pfnrn2";function D(t,l){return null==l||null==t.checkin||null==t.checkout?u.default.t('flexible_date_search.flexible_date_search.super_flexibility.date_picker_title.at_any_time',{length_of_stay:u.default.t('flexible_date_search.super_flexibility.super_flexible_trip_length.one_week_lowercase')}):l.littleSearchTextValue}}),"92bf41",["ba7a76","45f788","07aa1f","1488bb","ea4b89","a9f4b1","b097de","f30bc0","7c304c","e05d88","bae1c0","4786a8","aabdb1","f4e9c4","53bb4a","839502","a43329","a6ae2a","56a245","28f889","e1cc27","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({id:t,filterSection:n,searchVertical:c,stagedFilters:u,clearFilters:o,updateFilterSection:f,onAction:p,searchContext:_,panelRef:F,active:b,label:y,placeholder:I,...P}){const A=(0,h.getDynamicGuestsLabel)(u,j,c),S=(0,s.useEvent)((()=>o([...x.guestsFilterKeys],(t=>{if(_){const s='guest_picker';(0,l.logFilterClearClicked)(_,s,t,u)}})))),V=(0,s.useEvent)(((t,s)=>{if(f(t,s),_){const s=t?.[0]?.key;'adults'!==s&&'children'!==s&&'infants'!==s&&'pets'!==s||(0,l.logGuestPickerClick)(_,s)}})),E=b&&(0,v.jsx)(k,{panelRef:F,filterSection:n,stagedFilters:u,searchVertical:c,onAction:p,onChange:V,searchContext:_});return(0,v.jsx)(C.default,{...P,lastInput:!0,active:b,label:y,placeholder:I,value:A??void 0,onClearPress:S,panel:E})};t(r(d[1])),r(d[2]);var l=r(d[3]),s=r(d[4]),n=r(d[5]),c=t(r(d[6])),u=t(r(d[7])),o=t(r(d[8])),f=t(r(d[9])),h=r(d[10]),x=r(d[11]),C=t(r(d[12])),p=t(r(d[13])),_=t(r(d[14])),v=r(d[15]);const F={guestsPanelContainer:"gbc14t0 atm_l8_14br1z3 atm_vy_smdzip"},b=['adults','children'],j=16;function k({filterSection:t,stagedFilters:l,onChange:h,searchContext:x,onAction:C,searchVertical:k,panelRef:y}){const I=(0,n.useCx)();let P=null,A=null,S=null,V=null;t.items?.forEach((t=>{if(null!=t)switch(t.key){case'adults':P=(0,_.default)(t);break;case'children':A=(0,_.default)(t);break;case'infants':S=(0,_.default)(t);break;case'pets':V=(0,_.default)(t)}}));const E=(0,s.useEvent)((()=>{C?.({__typename:'NavigateToPetInfoScreen',loggingData:{loggingId:'explore.GUEST_PICKER.service_animal_disclosure_link'}})}));return(0,v.jsx)(f.default,{rightAligned:!0,dataTestId:"structured-search-input-field-guests-panel",children:(0,v.jsx)(p.default,{children:(0,v.jsxs)("div",{className:I(F.guestsPanelContainer),ref:y,children:[(0,v.jsx)(o.default,{item:P,maxValue:j,filterItemsToAggregate:b,stagedFilters:l,searchVertical:k,onChange:h}),(0,v.jsx)(c.default,{filterKey:"children",item:A,maxValue:j,filterItemsToAggregate:b,stagedFilters:l,onChange:h}),(0,v.jsx)(c.default,{filterKey:"infants",item:S,maxValue:j,filterItemsToAggregate:b,stagedFilters:l,onChange:h}),(0,v.jsx)(u.default,{item:V,stagedFilters:l,onSubtitlePress:E,onChange:h,searchContext:x})]})})})}}),"985705",["ba7a76","07aa1f","ea4b89","e2b8de","f4e9c4","4786a8","2e14db","3933af","f42119","3827c2","8fd57a","874897","8a67c2","b5f1d2","306d90","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.convertExploreSearchParamsToSearchParamUpdates=void 0,e.default=function(t,u){return u.reduce(((t,{key:u,value:c,valueType:o,selected:v,resetKeys:f})=>{let p=t;return f&&f.length&&(p=f.reduce(((t,u)=>(0,n.default)(t,u)),p)),u&&o?v?'array'===o&&null!==c?s(p,{key:u,value:c}):l(p,{key:u,value:c}):'array'===o?y(p,{key:u,value:c}):l(p,{key:u,value:null}):p}),t)};var n=t(r(d[1])),u=t(r(d[2]));function l(t,{key:n,value:u}){return{...t,[n]:u}}function s(t,{key:n,value:u}){const l=t[n];if(l instanceof Array){const s=t[n]?[...l,u]:[u];return{...t,[n]:s}}return{...t,[n]:[u]}}function y(t,{key:u,value:l}){const s=t[u];if(null==s)return t;if(Array.isArray(s)){const n=s.filter((t=>null!==t&&String(t)!==String(l)));return{...t,[u]:n}}return(0,n.default)(t,u)}e.convertExploreSearchParamsToSearchParamUpdates=t=>{const{params:n,resetKeys:l,refinementPaths:s}=t||{},y=s?.[0],c=n?.map((t=>{const{key:n,valueType:l}=t;return{selected:!0,key:n,value:(0,u.default)(t),valueType:l}}));return c?[{resetKeys:l},...y?[{key:'refinement_paths',value:y,valueType:'array',selected:!0,resetKeys:['refinement_paths']}]:[],...c]:[]}}),"9f671c",["ba7a76","3d4f9e","fe343c"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.accessibleTextClassNames=void 0,e.default=function({ariaAtomic:t,ariaHidden:_,ariaLive:n,className:o,hasBlockChildren:v,children:u,contentRef:f,id:y,style:b}){const h=v?'div':'span',p=(0,s.useCx)();return(0,c.jsx)(h,{className:p(l.accessible,o),id:null!=y?y:void 0,"aria-atomic":!!t||void 0,"aria-hidden":!!_||void 0,"aria-live":null!=n?n:void 0,ref:f,style:b,children:u})};t(r(d[1])),r(d[2]),r(d[3]);var s=r(d[4]),c=r(d[5]);const l=e.accessibleTextClassNames={accessible:"a8jt5op atm_3f_idpfg4 atm_7h_hxbz6r atm_7i_ysn8ba atm_e2_t94yts atm_ks_15vqwwr atm_ks_zryt35 atm_l8_idpfg4 atm_mk_stnw88 atm_vv_1q9ccgz atm_vy_t94yts"}}),"a5b4f5",["ba7a76","07aa1f","ea4b89","c9c35f","4786a8","b8c07d"]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});(e.ExplorePageLoggingContext={defaultProps:{},propTypes:{}}).fullyQualifiedName='Explore.v1.ExplorePageLoggingContext'}),"b097de",[]);
__d((function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-jsx-dev-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
'use strict';var t=Symbol.for("react.fragment");e.Fragment=t,e.jsxDEV=void 0}),"b1e39b",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t={event_data:{}},n=[],o=!0){(0,s.useEffect)((()=>{if(o){const s=(0,c.logSessionStart)(t);return()=>{s&&(0,c.logSessionEnd)({sessionId:s,useSendBeacon:!0})}}}),[...n,o])},e.useLogUniversalSessionsFromServerData=function(t){const v=(0,s.useMemo)((()=>(t||[]).filter(n.default)),[t]),u=(0,s.useRef)({});(0,s.useEffect)((()=>(v.forEach((({eventData:t,eventDataSchema:s})=>{const n=o.default.logUniversalSessionStartEventFromServerData({eventData:t,eventDataSchema:s});u.current[s]={sessionId:n,eventData:t}})),()=>{Object.values(u.current).forEach((({sessionId:t})=>{(0,c.logSessionEnd)({sessionId:t,useSendBeacon:!0})}))})),[]),(0,s.useEffect)((()=>{const t=u.current,s=v.reduce(((t,s)=>(t[s.eventDataSchema]=s.eventData,t)),{});Object.entries(t).forEach((([n,o])=>{s[n]||((0,c.logSessionEnd)({sessionId:o.sessionId,useSendBeacon:!0}),delete t[n])})),Object.entries(s).forEach((([s,n])=>{const v=t[s];if(v){if(v.eventData!==n){(0,c.logSessionEnd)({sessionId:t[s].sessionId,useSendBeacon:!0});const v=o.default.logUniversalSessionStartEventFromServerData({eventDataSchema:s,eventData:n});t[s]={sessionId:v,eventData:n}}}else{const c=o.default.logUniversalSessionStartEventFromServerData({eventDataSchema:s,eventData:n});t[s]={sessionId:c,eventData:n}}}))}),[v])};var s=r(d[1]),n=t(r(d[2])),o=t(r(d[3])),c=r(d[4])}),"bae1c0",["ba7a76","07aa1f","f30bc0","c8b97a","9e7031"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TIER_TYPES=e.TIER_IDS=e.PDP_URL_TYPES=e.PDP_TYPES=void 0,e.getTier=function(E){switch(E){case P.LUXURY:return L.LUXURY;case P.PLUS:return L.PLUS;case P.MARKETPLACE:default:return L.MARKETPLACE}};let L=e.TIER_TYPES=(function(L){return L.LUXURY="luxury",L.PLUS="plus",L.MARKETPLACE="marketplace",L})({}),P=e.TIER_IDS=(function(L){return L[L.LUXURY=2]="LUXURY",L[L.PLUS=1]="PLUS",L[L.MARKETPLACE=0]="MARKETPLACE",L})({});e.PDP_TYPES=(function(L){return L.MARKETPLACE="MARKETPLACE",L.PLUS="PLUS",L.HOTEL="HOTEL",L.LUXE="LUXE",L})({}),e.PDP_URL_TYPES=(function(L){return L.ROOMS="ROOMS",L.ROOMS_PLUS="ROOMS_PLUS",L.HOTELS="HOTELS",L.LUXURY_LISTINGS="LUXURY_LISTINGS",L})({})}),"bcda48",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.extractPlaceByAreasSection=function(t){if(null==t)return null;return t.subsections?.map(u)??null},e.extractPlaceChipsSection=u;var l=t(r(d[1]));function n(t){return null==t?null:{exploreSearchParams:(0,l.default)(t.searchParams),text:t.title}}function u(t){return null==t?null:{text:t.title,items:t.items?.map(n)??null}}}),"c3c6e6",["ba7a76","33b62f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.baseIconButtonStylesFn=e.baseIconButtonCssFragments=e.BaseIconButton=void 0;n(r(d[1]));var o=r(d[2]),t=r(d[3]),s=(r(d[4]),r(d[5]),r(d[6])),c=r(d[7]);e.BaseIconButton=({styles:n,css:l,children:u,linariaClassNames:p,...b})=>{const h=(0,t.useCx)(),{icon:f,...w}=p||{};return(0,c.jsx)(s.BaseButtonOrAnchor,{...b,styles:n,css:l,linariaClassNames:w,children:(0,c.jsx)("span",{className:h(p?.icon),...(0,o.maybeRwsCss)(l,n?.icon),children:u})})};const l=e.baseIconButtonCssFragments={component:"\n    appearance: none;\n    display: inline-block;\n    border-radius: 50%;\n    border: 0;\n    outline: 0;\n    margin: -7px; /* Used to specify tap padding */\n    padding: 7px; /* Used to specify tap padding */\n    color: buttontext;\n    background-color: transparent;\n    cursor: pointer;\n    touch-action: manipulation;\n\n    :focus-visible {                 outline: none;   &::-moz-focus-inner {     border: none;     padding: 0;     margin: 0;   }   &:focus::-moz-focus-inner {     border: none;   }   &:-moz-focusring {     outline: none;   }            @media (prefers-reduced-motion: reduce), (update: slow), (update: none) {       transition: none;     }     transition: box-shadow 0.2s var(--linaria-theme_motion-standard-curve-animation-timing-function);            box-shadow: 0 0 0 1px rgba(0,0,0,0.5), 0 0 0 5px rgba(255,255,255,0.7);          }     @supports not selector(:focus-visible) {       :focus {                   outline: none;   &::-moz-focus-inner {     border: none;     padding: 0;     margin: 0;   }   &:focus::-moz-focus-inner {     border: none;   }   &:-moz-focusring {     outline: none;   }            @media (prefers-reduced-motion: reduce), (update: slow), (update: none) {       transition: none;     }     transition: box-shadow 0.2s var(--linaria-theme_motion-standard-curve-animation-timing-function);            box-shadow: 0 0 0 1px rgba(0,0,0,0.5), 0 0 0 5px rgba(255,255,255,0.7);            }     }\n\n\n\n       \n\n    &:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n      color: graytext;\n    }\n  ",icon:"\n    /* stylelint-disable block-no-empty */\n    /* stylelint-enable block-no-empty */\n  ",baseButtonShowOnlyOnKeyboardFocus:"\n    &:not(:focus) {       border: 0;   clip: rect(0 0 0 0);   clip-path: inset(100%);   height: 1px;   overflow: hidden;   overflow: clip;   padding: 0;   position: absolute;   white-space: nowrap;   width: 1px;  }\n  ",baseAnchorShowOnlyOnKeyboardFocus:"\n    &:not(:focus) {       border: 0;   clip: rect(0 0 0 0);   clip-path: inset(100%);   height: 1px;   overflow: hidden;   overflow: clip;   padding: 0;   position: absolute;   white-space: nowrap;   width: 1px;  }\n  "};e.baseIconButtonStylesFn=(0,o.deprecatedExtendableStylesFn)('BaseIconButton',(()=>({component:(0,o.cssFragmentToRws)(l.component),icon:(0,o.cssFragmentToRws)(l.icon),showOnlyOnKeyboardFocus:(0,o.cssFragmentToRws)(l.baseButtonShowOnlyOnKeyboardFocus)})))}),"cfbf16",["ba7a76","07aa1f","2d8af3","4786a8","c9c35f","30b570","60c631","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,s){let c,l=!1,o='';if(n()){c={};for(const n of Object.keys(t))c[n]=s.style[n]}else o=s.style.cssText;return Object.assign(s.style,t),function(){l||(l=!0,c?Object.assign(s.style,c):s.style.cssText=o)}};var s=t(r(d[1]));const n=()=>'treatment'===s.default.findTreatment('web_improve_search_modal_close')}),"d65e33",["ba7a76","dcc72a"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TAB=e.SWITCH=e.STEPPER=e.SINGLE_SELECT_PILL_2=e.SINGLE_SELECT_PILL=e.RADIO=e.PRICE_SLIDER=e.PILL_CHECKBOX_WITH_IMAGE=e.PILL_CHECKBOX=e.MULTI_SELECT_PILL=e.ITEMS_WITH_SEPARATELY_SELECTABLE_PARAMS=e.FilterSectionType=e.FilterItemType=e.FilterItemParamKeys=e.DATE_PICKER=e.CHIP_CARD_CHECKBOX=e.CHECKBOX=void 0;e.CHECKBOX='checkbox';const _=e.DATE_PICKER='date_picker',E=e.PRICE_SLIDER='price_slider';e.RADIO='radio',e.STEPPER='stepper',e.SWITCH='switch',e.TAB='tab',e.SINGLE_SELECT_PILL='single_select_pill',e.PILL_CHECKBOX='pill_checkbox',e.MULTI_SELECT_PILL='multi_select_pill',e.PILL_CHECKBOX_WITH_IMAGE='pill_checkbox_with_image',e.CHIP_CARD_CHECKBOX='chip_card_checkbox',e.SINGLE_SELECT_PILL_2='single_select_pill_2',e.ITEMS_WITH_SEPARATELY_SELECTABLE_PARAMS=[_,E];e.FilterItemType=(function(_){return _.CHECKBOX="checkbox",_.CHIP="chip",_.DATE_PICKER="date_picker",_.DURATION_SLIDER="duration_slider",_.FLEXIBLE_DATE_PICKER="flexible_date_picker",_.HEADER="header",_.LABEL="label",_.LINK="link",_.MULTI_SELECT_PILL="multi_select_pill",_.PILL_CHECKBOX="pill_checkbox",_.PILL_CHECKBOX_WITH_IMAGE="pill_checkbox_with_image",_.PRICE_SLIDER="price_slider",_.RADIO="radio",_.SINGLE_DATE_PICKER="single_date_picker",_.SINGLE_DISCRETE_SLIDER="single_discrete_slider",_.SINGLE_SEGMENTED_CONTROL="single_segmented_control",_.SINGLE_SELECT_PILL="single_select_pill",_.STEPPER="stepper",_.SUBCATEGORY="subcategory",_.SUBCATEGORY_CAROUSEL="subcategory_carousel",_.SINGLE_SELECT_PILL_2="single_select_pill_2",_.SWITCH="switch",_.TAB="tab",_.TIME_RANGE_SLIDER="time_range_slider",_.TIME_SLIDER="time_slider",_.CHIP_CARD_CHECKBOX="chip_card_checkbox",_.SUBCATEGORY_GRID="subcategory_grid",_.TITLE="title",_})({}),e.FilterItemParamKeys=(function(_){return _.DEPARTURE_TIME_MIN="departure_time_min",_.DEPARTURE_TIME_MAX="departure_time_max",_.ARRIVAL_TIME_MIN="arrival_time_min",_.ARRIVAL_TIME_MAX="arrival_time_max",_})({}),e.FilterSectionType=(function(_){return _.TABS="tabs",_.MULTI_SELECT_PANEL="multi_select_panel",_.QUICK_FILTERS="quick_filters",_.DROPDOWN="dropdown",_.MULTI_SELECT_QUICK_FILTERS_INLINE="multi_select_quick_filters_inline",_})({})}),"dc9773",[]);
__d((function(g,r,i,a,m,e,d){"use strict";function n(){const t=r(d[0]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"batch",{enumerable:!0,get:function(){return n().batch}}),Object.defineProperty(e,"computed",{enumerable:!0,get:function(){return n().computed}}),Object.defineProperty(e,"effect",{enumerable:!0,get:function(){return n().effect}}),Object.defineProperty(e,"signal",{enumerable:!0,get:function(){return n().signal}}),Object.defineProperty(e,"useComputed",{enumerable:!0,get:function(){return t.useComputed}}),Object.defineProperty(e,"useSignal",{enumerable:!0,get:function(){return t.useSignal}}),Object.defineProperty(e,"useSignalEffect",{enumerable:!0,get:function(){return t.useSignalEffect}}),Object.defineProperty(e,"useSignalToRef",{enumerable:!0,get:function(){return u.useSignalToRef}}),Object.defineProperty(e,"useSignals",{enumerable:!0,get:function(){return t.useSignals}});var t=r(d[1]),u=r(d[2])}),"e086eb",["a954a0","250cdf","2637d5"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,l=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(r(d[2])),n=t(r(d[3])),c=t(r(d[4])),o=r(d[5]),u=t(r(d[6])),f=t(r(d[7])),h=t(r(d[8])),b=t(r(d[9])),p=r(d[10]);e.default=(0,c.default)('SearchBlocks',[])((function({hideVerticalTabs:t=!1,initialSelectedInputComponentId:l,isTabbed:c=!1,onSearchBlockSubmit:S,searchBlocks:k,searchContext:x,destinationRef:v,filterSections:_,responseFilters:C}){const{tabs:j,linkTabs:T}=(0,s.useMemo)((()=>{const t=k?.filter((t=>null==t.directUrl)),l=k?.filter((t=>null!=t.directUrl));return{tabs:t,linkTabs:l}}),[k]),[I,P]=(0,s.useState)((()=>k?.findIndex((({selected:t})=>t))||0)),V=(0,s.useCallback)((t=>{if(P(t||0),x){const l=k?.[t];(0,o.logVerticalSwitch)({selectedVertical:l?.id||'',searchContext:x})}}),[k,x]);return(0,p.jsx)(b.default,{hasAttachedPanel:c,initialSelectedInputComponentId:l,onSubmit:S,searchBlock:k?.[I],searchContext:x,destinationRef:v,filterSections:_,responseFilters:C,formHeader:(0,p.jsxs)(u.default,{isHidden:t,children:[(0,p.jsx)("div",{role:"tablist","aria-label":n.default.t('simple_nav.header.big_search_title'),children:j?.map(((t,l)=>{const s=t.tabSelector?.desktopTabLabel||t.title||'',{id:n,refinementPath:o}=t,u=n||s.replace(/\W/g,'-');return(0,p.jsx)(f.default,{active:l===I,id:`search-block-tab-${c}-${u}`,name:"refinement_paths[]",onPress:()=>{V(l)},value:o,children:s},u)}))}),T?.map((({directUrl:t,id:l,tabSelector:s,title:n})=>{const c=s?.desktopTabLabel||n||'';return(0,p.jsx)(h.default,{href:t??'',onPress:()=>{x&&(0,o.logVerticalSwitch)({selectedVertical:l||'',searchContext:x})},children:c},l||c.replace(/\W/g,'-'))}))]})})}))}),"e1cc27",["ba7a76","45f788","07aa1f","a9f4b1","9092d5","e2b8de","78a943","afb378","49f870","ee5d31","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,s=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({filters:t,searchVertical:s="STAYS"}){const{loading:_,responseFilters:f,response:p}=(0,u.default)(s,t),v=(0,c.useMemo)((()=>({search_id:'',federated_search_id:'',federated_search_session_id:'',page_context:void 0,mobile_search_session_id:'',location:f.query??f.location??void 0,dates:[f.checkin||'',f.checkout||''],guests:(f.adults||0)+(f.children||0),refinement_paths:f.refinement_paths?.[0]??void 0,query_place_id:f.place_id??void 0})),[f.adults,f.checkin,f.checkout,f.children,f.location,f.place_id,f.query,f.refinement_paths]),k=p?.searchHeader?.searchBlocks?.filter(l.default);return(0,h.jsx)(o.ExploreSkeletonContext.Provider,{value:_||null==p?.searchHeader?.searchBlocks,children:(0,h.jsx)(n.default,{searchBlocks:k,searchContext:v,filterSections:p?.filters?.sections?.filter(l.default)??[],responseFilters:f})})};var c=s(r(d[2])),l=t(r(d[3])),o=r(d[4]),n=t(r(d[5])),u=t(r(d[6])),h=r(d[7])}),"e39e3e",["ba7a76","45f788","07aa1f","f30bc0","55221e","92bf41","fe2481","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=function(t,f){const c=u.default.useRef(!1);u.default.useEffect((()=>{c.current?t():c.current=!0}),f)}}),"e6000a",["ba7a76","07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.isPlacesRecommendationEligibleForCJKLocalization=e.isExpandedSearchBarEligibleForCJKLocalization=e.isEligibleForCJKLocalization=void 0;var o=t(r(d[1])),n=(t(r(d[2])),r(d[3])),l=r(d[4]);e.isEligibleForCJKLocalization=()=>(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.CHINA_MAINLAND_GUEST)||(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.JAPAN_GUEST)||(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.KOREA_GUEST)||(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.TAIWAN_GUEST)||(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.HONG_KONG_AND_MACAO_GUEST);e.isPlacesRecommendationEligibleForCJKLocalization=t=>(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.JAPAN_GUEST)?'treatment'===o.default.findTreatment('japan_places_recommendation_web',t):(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.KOREA_GUEST)?'treatment'===o.default.findTreatment('korea_places_recommendation_web',t):(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.TAIWAN_GUEST)||(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.HONG_KONG_AND_MACAO_GUEST)?'treatment'===o.default.findTreatment('hongkong_macao_taiwan_places_recommendation_web',t):(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.CHINA_MAINLAND_GUEST);e.isExpandedSearchBarEligibleForCJKLocalization=()=>!!(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.CHINA_MAINLAND_GUEST)||((0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.JAPAN_GUEST)?'treatment'===o.default.findTreatment('japan_expanded_search_bar_web_v2'):(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.KOREA_GUEST)?'treatment'===o.default.findTreatment('korea_expanded_search_bar_web_v2'):!(!(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.TAIWAN_GUEST)&&!(0,n.isEligibleForMarketLocalization)(l.MarketLocalizationSegment.HONG_KONG_AND_MACAO_GUEST))&&'treatment'===o.default.findTreatment('hongkong_macao_taiwan_expanded_search_bar_web_v2'))}),"ecaaa5",["ba7a76","dcc72a","4d3544","1d1d67","9731f5"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),l=r(d[3]),o=t(r(d[4])),c=t(r(d[5])),u=t(r(d[6])),p=r(d[7]),f=t(r(d[8])),h=t(r(d[9])),P=r(d[10]);function F(t){const n=t?.searchParams?.refinementPaths?.filter(o.default);return n?.length?n:t?.refinementPath?[t?.refinementPath]:[]}e.default=(0,l.withStyles)((({dls19:t})=>({inputs:{paddingBottom:t.spacing.primitives.size_small,position:'relative',zIndex:1,'--split-date-input_flex':'1 0 0%','--input-with-search-button_flex':'1 0 0%'}})))((function({css:t,formHeader:n,hasAttachedPanel:l,initialSelectedInputComponentId:I,onSubmit:v,searchBlock:x,searchContext:C,destinationRef:S,styles:_,filterSections:b,responseFilters:j}){const A=x?.searchInputUnion,M=(0,s.useMemo)((()=>A?.searchInputComponents?.filter(o.default)||[]),[A]),{clearFilters:R,stagedFilters:y,updateFilters:z}=(0,h.default)(j||{}),{onAction:B,isOpen:O,closeModal:k}=(0,u.default)();return(0,P.jsxs)("div",{...t(_.inputs),"data-nosnippet":!0,children:[(0,P.jsx)(f.default,{autocompleteVertical:x?.autocompleteVertical||void 0,clearFilters:R,filterSections:b,formHeader:n,hasAttachedPanel:l,initialSelectedInputComponentId:I,onAction:B,onSubmit:v,refinementPaths:F(x),responseFilters:j,searchBlockId:x?.id||'',searchContext:C,searchInputComponents:M,stagedFilters:y,updateFilters:z,destinationRef:S,isPlacesRecommendationEnabled:(0,p.isPlacesRecommendationEligibleForCJKLocalization)()}),(0,P.jsx)(c.default,{isOpen:O,closeModal:k})]})}))}),"ee5d31",["ba7a76","45f788","07aa1f","e0b084","f30bc0","c2d4da","7296de","ecaaa5","4a96a2","733a10","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExploreMetadataField=void 0;var t=r(d[0]);e.ExploreMetadataField=(0,t.createUIKey)('explore-metadata')}),"f1bb40",["005fd5"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t=!0,u=!1){const c=(0,n.pageHasScrollbarGutter)(),s=t?window.scrollY:0,f=window.innerWidth-document.documentElement.offsetWidth,p=(0,l.default)({minHeight:`calc(var(${o.CSS_VAR_VH}, 1vh) * 100)`,scrollbarGutter:'auto'},document.documentElement),x=(0,l.default)({overflow:'hidden',top:-1*s+"px",right:'0px',bottom:'0px',left:'0px',margin:'0px',...c?{insetInlineEnd:`${f}px`}:{},...u?{}:{position:'fixed'}},document.body);c&&document.body.style.setProperty('--scrollbar-gutter',`${f}px`);return function(){p(),x(),t&&window.scrollTo(0,s)}};var o=r(d[1]),n=r(d[2]),l=t(r(d[3]))}),"f2eee8",["ba7a76","b872fc","0b813f","d65e33"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const E=t(r(d[1]));return n=function(){return E},E}Object.defineProperty(e,"__esModule",{value:!0}),e.isOnlineExperiences=O,e.isOnlineExperiencesSearchRefinementPath=T,e.locationToURLParameter=s,e.makeQueryStrings=u,e.makeSearchPath=N,e.makeSearchURI=function(t,n={}){const E=o(t);0===E.section_offset&&delete E.section_offset;0===E.items_offset&&delete E.items_offset;const{tabId:_}=n;E.tab_id&&E.tab_id!==_&&(E.tab_id=_);let c=N(t,n);return c+=u(E,n),c};var E=t(r(d[2])),_=r(d[3]),c=r(d[4]),l=r(d[5]);function s(t){return(t||'').replace(/\//g,' ').replace(/\)/g,'').replace(/\(/g,'').replace(/\]/g,'').replace(/\[/g,'').replace(/\\/g,'').replace(/\?/g,'').replace(/\s+/g,' ').replace(/-/g,'~').replace(/, ?/g,'--').replace(/ /g,'-').replace(/#/g,'%23').replace(/\./g,'%252E')}function o(t){const n={...t};return['checkin','checkout'].forEach((n=>{t[n]})),n}function u(t,l={}){const{tabId:s}=l,o=Object.freeze(['location','baseUrl','additional_refinements']),u=[...o,'query'];let S=(0,E.default)(t,t.location?o:u);p(t)&&(S.category_tag='Tag:8253',delete S.tier_ids),s===_.EXPLORE_TABS.ADVENTURES?S.refinement_paths=['/experiences/KG/Tag:639']:s===_.EXPLORE_TABS.SELECT_HOMES?(S.tier_ids=[c.TIER_IDS.PLUS],delete S.refinement_paths):s===_.EXPLORE_TABS.FLIGHTS&&(S={});const I=n().default.stringify(S,{arrayFormat:'brackets'});return I.length>0?`?${I}`:''}const S='Tag:6951',I=['Tag:7983','Tag:8020','Tag:8059'],f=Object.freeze(['EXPERIENCES_JUST_ADDED_GROUPING','EXPERIENCES_SELECTED_TIME_TYPE_GROUPING','EXPERIENCES_SELECTED_TAGS_GROUPING','EXPERIENCES_TOP_BOOKED_ONLINE_GROUPING','EXPERIENCES_TAXONOMY_PERSONALIZATION','EXPERIENCES_GEO_LEADERBOARD','EXPERIENCES_CONTINUE_BROWSING','EXPERIENCES_PERSONALIZED_CO_BOOKS','EXPERIENCES_BOOK_AGAIN','EXPERIENCES_UPCOMING_DESTINATION','EXPERIENCES_PRIVATE_BOOKING','EXPERIENCES_TEST_RUN','EXPERIENCES_SERIES','EXPERIENCES_CONTINUE_SERIES','EXPERIENCES_WISHLIST']);function R(t,n){return!!t?.some((t=>{const E=t?.split('/');if(!E||!t?.includes('/section'))return!1;const _=E[E.length-1].split(':')[0];return n.includes(_)}))}function T(t){return n=t.refinement_paths,E=[S,...I],!!n?.some((t=>{const n=t?.split('/');if(!n||0===n.length)return!1;const _=n[n.length-1],c=new Set(_.split(','));return E.some((t=>c.has(t)))}))||R(t.refinement_paths,f);var n,E}function O(t,n){return n===_.EXPLORE_TABS.EXPERIENCES&&(!!t.additional_refinements?.includes('online')||T(t)||t.kg_or_tag===S||t.kg_or_tags?.includes(S))}function P(t,n){return('flex_destinations_search'===t.search_mode||n===_.EXPLORE_TABS.HOMES&&null==t.search_mode)&&null==t.location&&null==t.query&&null==t.place_id&&!(null!=t.omni_page_id&&null!=t.dynamic_product_ids)&&null==t.host_id}function N(t,n={}){const{tabId:E}=n,c=(0,l.buildTabId)({requestFilters:t,currentTab:E}),o=c===_.EXPLORE_TABS.STORIES,u=!!t.clh,S='p2'===t.china_sem_source,I=E===_.EXPLORE_TABS.FLIGHTS;if(P(t,c))return'/';if(O(t,c))return`/${_.SEARCH_ENDPOINT}/experiences/online`;let f;if(o)f=`/${_.TAB_PATHS[c]}`;else if(u)f='/cl';else if(S)f='/sfx/s';else{if(p(t)||I)return'/';f=n.basePath?`/${n.basePath}`:`/${_.SEARCH_ENDPOINT}`}t.location&&s(t.location)?f+=`/${s(t.location)}`:t.query&&s(t.query)&&(f+=`/${s(t.query)}`),c&&!o&&(f+=`/${_.TAB_PATHS[c]}`);const R=[...t.additional_refinements??[]];return R.length>0&&(f+=`/${R.join("--")}`),f}function p(t){return!!t.tier_ids?.includes(c.TIER_IDS.LUXURY)&&!t.query&&!t.place_id}}),"f4229b",["ba7a76","e950a3","3d4f9e","87916a","bcda48","aea415"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.clearFilterState=function({paramKeysToRemove:t,stagedFilters:l,filterStateSerializationContexts:u}){if(null==t)return l;return t.reduce(((t,s)=>{const o=y(s,u);if(null==o)return t=(0,n.default)(t,s);const p=o?.key;if(null==p)return t;const T=_(s,l),A=t[p];if(null==A||'string'!=typeof A)return t;const S=c(A,o);if(!S[T])return t;if(null==o.filterTypeParamKeys||0===o.filterTypeParamKeys.length)return t;const P=o.filterTypeParamKeys.indexOf(s);if(null==P||P<0)return t;S[T][P]=[];const v=f(S,o);return t={...t,[p]:v}}),l)},e.deserializeFilterState=function(t,n,l,s){if(null==t)return null;const o=y(t,l),f=p(t,l),T=n[f];if(null==o)return T;if('string'!=typeof T)return T;const A=_(t,n),S=c(T,o);if(A>=S.length)return null;const P=S[A];if(null==P)return null;const v=o.filterTypeParamKeys?.indexOf(t);if(null==v||v>=P.length)return null;const h=P[v];if(u.PARAM_ARRAY_VALUE_TYPES.includes(s))return 0===h.length?null:h;return h?.[0]||null},e.serializeSearchParamUpdates=function(t,n,l){const u=t.reduce(((t,u)=>{const s=u.key,o=_(s,n),{value:p,selected:T,isSerialized:A}=u;if(!A)return t[s]=u,t;const S=y(s,l),P=null==u.value?'':String(u.value);if(null==S)return t[s]={...u,value:P,valueType:'string'},t;const v=S.key,h=t[v]?.value||n[v];let I=c(String(h||''),S);const R=o+1-I.length;if(R>0){const t=Array(R).fill([['']]);I=I.concat(t)}const K=I[o],{filterTypeParamKeys:E}=S,M=E?.indexOf(s);if(null==M||M<0)return t;if(S.itemSeparator)T?(K[M]=K[M].filter(Boolean),K[M].push(String(p))):K[M]=K[M].filter((t=>t!==p));else{const t=E?.length;K.length!==t&&(I[o]=Array(t).fill([''])),I[o][M]=[P]}const F=f(I,S);return v&&(t[v]={...u,key:v,value:F,valueType:'string'}),t}),{});return Object.values(u)};var n=t(r(d[1])),l=r(d[2]),u=r(d[3]);const s=[l.FilterItemParamKeys.DEPARTURE_TIME_MIN,l.FilterItemParamKeys.DEPARTURE_TIME_MAX,l.FilterItemParamKeys.ARRIVAL_TIME_MIN,l.FilterItemParamKeys.ARRIVAL_TIME_MAX];function o(t,n){return null!=n?t.split(n):[t]}function f(t,n){return null==t||0===t.flat(2).length?'':t.map((t=>0===t.flat(1).length?'':t.map((t=>t.join(n.itemSeparator||''))).join(n.filterTypeSeparator||''))).join(n.segmentSeparator||'')}function c(t,n){return o(t,n.segmentSeparator).map((t=>o(t,n.filterTypeSeparator).map((t=>o(t,n.itemSeparator).filter((t=>''!==t))))))}function y(t,n){return Array.isArray(n)?n.find((n=>n?.filterTypeParamKeys?.includes(t))):null}function p(t,n){const l=y(t,n);return l?.key||t}function _(t,n){const{search_segment_index:l,search_segment_index_override:u}=n,o=l||0;return null!=u&&s.includes(t)?u:o}}),"f76dc1",["ba7a76","3d4f9e","dc9773","45923d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){const l='treatment'===u.default.findTreatment('pdp_search_bar_with_search_params'),h=p(t,n,{passParams:l}),{data:y,loading:b,error:x}=(0,s().useMinimalistClientSideQuery)(f.default,{variables:{request:h}}),v=y?.dora?.searchHeaderV3,E=(0,_.useMemo)((()=>(0,o.applyDynamicFiltersStateToClientFilterState)(l?{query:n?.query??void 0}:{},(v?.filters?.state||[]).filter(c.default))),[l,v?.filters?.state,n?.query]);return{loading:b,error:x,responseFilters:E,response:v}};var _=r(d[1]);function s(){const t=r(d[2]);return s=function(){return t},t}var n=r(d[3]),l=t(r(d[4])),o=r(d[5]),c=t(r(d[6])),u=t(r(d[7])),f=t(r(d[8]));function p(t,_,{passParams:s}={}){const o={refinementPaths:'EXPERIENCES'===t?['/experiences']:['/homes'],screenSize:'large',treatmentFlags:[...(0,l.default)(),'super_date_flexibility','micro_flex_improvements','flexible_dates_12_month_lead_time','im_flexible_may_2022_treatment','pets_fee_treatment','flex_destinations_june_2021_launch_web_treatment','lazy_load_flex_search_map_compact','lazy_load_flex_search_map_wide','search_add_category_bar_ui_ranking_web','flexible_dates_options_extend_one_three_seven_days','micro_flex_show_by_default','search_input_placeholder_phrases','new_filter_bar_v2_treatment'],version:n.EXPLORE_TABS_API_VERSION,channel:'SEARCH_HEADER_PDP',searchMode:'flex_destinations_search'};if(s&&_&&Object.keys(_).length>0){const{query:t,...s}=_;Object.assign(o,s)}return o}}),"fe2481",["ba7a76","07aa1f","068abc","87916a","cd925d","6067d6","f30bc0","dcc72a","735206"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)return null;const o=t.value&&'object'==typeof t.value?n(t.value):t.value;switch(l(t.valueType)){case u.PARAM_VALUE_TYPE.INTEGER:case u.PARAM_VALUE_TYPE.FLOAT:const l='string'==typeof o?Number(o):o;return Number.isNaN(l)?null:l;case u.PARAM_VALUE_TYPE.BOOLEAN:return'string'==typeof o?'true'===o:!!o;default:return o}},e.getParamValueType=l;var u=r(d[0]);function l(u){return(u||'').toLowerCase()}function t(u,l){return Object.prototype.hasOwnProperty.call(u,l)}function n(u){return null==u?null:t(u,'stringValue')?u.stringValue:t(u,'longValue')?u.longValue:t(u,'booleanValue')?u.booleanValue:t(u,'doubleValue')?u.doubleValue:null}}),"fe343c",["45923d"]);
__r("a9f4b1").extend({"simple_search.mobile.exact_dates":"Exact dates","flexible_date_search.flexible_date_search.super_flexibility.date_picker_title.at_any_time":"Any %{length_of_stay}","flexible_date_search.super_flexibility.super_flexible_trip_length.one_week_lowercase":"week","simple_nav.header.big_search_title":"What can we help you find?"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/guest-header/containers/search/ExternalLittleSearchContainer.4abdd5a21f.js.map