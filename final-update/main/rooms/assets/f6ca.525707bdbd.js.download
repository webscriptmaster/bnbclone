__d((function(g,r,i,a,m,e,d){"use strict";var E=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=E(r(d[1]));r(d[2]);var o=E(r(d[3])),s=E(r(d[4])),l=E(r(d[5])),u=E(r(d[6])),n=E(r(d[7])),_=E(r(d[8])),f=r(d[9]);const C={[o.default.SET_CURRENCY_SELECTOR_EXPANDED]:()=>{},[o.default.SET_PAYMENT_OPTIONS_SELECTOR_EXPANDED]:u.default.setSelectorExpanded};e.default=(0,t.default)((function(E){const{application:{billRequest:t}}=E;return{error:E.errorMessage,isMowebCCFormVisible:E.paymentOptions.isMowebCCFormVisible,isBillRequestLoading:t&&t.billRequestLoading}}),(function(E){return{[o.default.SET_CURRENCY_SELECTOR_EXPANDED]:C[o.default.SET_CURRENCY_SELECTOR_EXPANDED],[o.default.SET_PAYMENT_OPTIONS_SELECTOR_EXPANDED]:()=>E(C[o.default.SET_PAYMENT_OPTIONS_SELECTOR_EXPANDED](!0)),[o.default.REMOVE_COUPONS_AND_CREDITS]:()=>{E(n.default.setGiftCreditApplied(!1)),E(l.default.clearErrorMessage()),E(_.default.applyCouponFromCode(''))},clearErrorMessage:()=>E(l.default.clearErrorMessage())}}),(function(E,t){const{error:o}=E;return{...E,clearErrorMessage:t.clearErrorMessage,onPressPrimary:o&&t[o.onPressPrimaryFn],onPressSecondary:o&&t[o.onPressSecondaryFn]}}),{storeKey:f.STORE_KEY})(s.default)}),"0daf15",["ba7a76","e54baf","50ccd7","35884b","6c93f6","16b998","c233cc","5f080f","7c73a8","f19bbb"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),u=r(d[1]);e.default=(0,t.createProvider)(u.STORE_KEY)}),"0de3e2",["c98c9b","f19bbb"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=r(d[0]),t=r(d[1]),s=r(d[2]);const o=(0,t.extendStyles)(s.baseFixedOverlayStylesFn,(({color:l,dls19:t})=>({overlay:{[t.responsive.queries.mediumAndAbove]:{background:l.modal.whiteOverlay}}})));e.default=(0,l.withStyles)(o)(s.BaseFixedOverlay)}),"11d10c",["e0b084","01b367","85b8c9"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),u=r(d[1]);const c={setCurrencyCountries:c=>(0,t.createAction)(u.SET_CURRENCY_COUNTRIES,c)};e.default=c}),"1be47d",["39a120","7fd657"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),o=r(d[1]);const n={setRegisteredComponents:n=>(0,t.createAction)(o.SET_REGISTERED_COMPONENTS,n)};e.default=n}),"27347b",["39a120","5e13fe"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=r(d[0]),t=r(d[1]),s=r(d[2]),f=r(d[3]),l=r(d[4]),o=r(d[5]),c=r(d[6]);const y=(0,t.mergeStyles)(f.baseButtonCssFragments,l.dls19CssFragments,c.largeCssFragments,o.brandCssFragments);(0,_.cssFragmentsObjToStylesFn)(y);e.default=(0,s.createVariant)(o.BrandButton,{base:"beh4qrt atm_9j_tlke0l atm_9s_1o8liyq atm_gi_idpfg4 atm_mk_h2mmj6 atm_r3_1h6ojuz atm_rd_glywfm atm_3f_uuagnh atm_70_5j5alw atm_vy_1wugsn5 atm_l8_1cudcw5 atm_26_d0eyo3 atm_7l_jt7fhx atm_c8_dlk8xv atm_bx_1kw7nm4 atm_tl_1gw4zv3 atm_9j_13gfvf7_1o5j5ji atm_k4_si67jz_1o5j5ji",component:"c96kyml atm_bx_48h72j atm_c8_2x1prs atm_g3_1jbyh58 atm_fr_11a07z3 atm_cs_9dzvea atm_5j_t09oo2 atm_kd_glywfm atm_uc_1lizyuv atm_r2_1j28jx2 atm_c8_vvn7el atm_g3_k2d186 atm_fr_1vi102y atm_l8_28hvra atm_jb_9g2opv atm_3f_glywfm atm_26_1c4m0nl atm_7l_1v2u014 atm_uc_glywfm__1rrf6b5 atm_kd_glywfm_1w3cfyq atm_uc_aaiy6o_1w3cfyq atm_70_1b8lkes_1w3cfyq atm_3f_glywfm_e4a3ld atm_l8_idpfg4_e4a3ld atm_gi_idpfg4_e4a3ld atm_3f_glywfm_1r4qscq atm_kd_glywfm_6y7yyg atm_uc_glywfm_1w3cfyq_1rrf6b5 atm_kd_glywfm_pfnrn2_1oszvuo atm_uc_aaiy6o_pfnrn2_1oszvuo atm_70_1b8lkes_pfnrn2_1oszvuo atm_3f_glywfm_1icshfk_1oszvuo atm_l8_idpfg4_1icshfk_1oszvuo atm_gi_idpfg4_1icshfk_1oszvuo atm_3f_glywfm_b5gff8_1oszvuo atm_kd_glywfm_2by9w9_1oszvuo atm_uc_glywfm_pfnrn2_1o31aam atm_tr_18md41p_csw3t1 atm_k4_kb7nvz_1o5j5ji atm_3f_glywfm_1nos8r atm_26_1c4m0nl_1nos8r atm_7l_1v2u014_1nos8r atm_3f_glywfm_csw3t1 atm_26_mrkt56_csw3t1 atm_7l_1v2u014_csw3t1 atm_3f_glywfm_1o5j5ji atm_26_o3liez_1o5j5ji atm_7l_1v2u014_1o5j5ji atm_26_3e3vs__1vlbm2j atm_26_3e3vs_1nos8r_1vlbm2j atm_26_fyrh5g_csw3t1_1vlbm2j atm_26_o3liez_1o5j5ji_1vlbm2j",fullWidth:"f5ip6ow atm_vy_1osqo2v",showOnlyOnKeyboardFocus:"sg1c4j7 atm_3f_idpfg4_1r63tcj atm_7h_hxbz6r_1r63tcj atm_7i_ysn8ba_1r63tcj atm_e2_t94yts_1r63tcj atm_ks_15vqwwr_1r63tcj atm_ks_zryt35_1r63tcj atm_l8_idpfg4_1r63tcj atm_mk_stnw88_1r63tcj atm_vv_1q9ccgz_1r63tcj atm_vy_t94yts_1r63tcj"})}),"278724",["2d8af3","aabdb1","92749c","ee5719","c642d5","c4afb2","59b502"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.buttonLayoutStylesFn=e.buttonLayoutCssFragments=void 0;var t=r(d[0]),n=r(d[1]),o=(r(d[2]),r(d[3])),s=r(d[4]);const l=e.buttonLayoutCssFragments=(0,o.mergeStyles)(t.baseButtonLayoutCssFragments,{container:"",content:"",leading:"\n    margin-left: -6px;\n    margin-right: 4px;\n  ",trailing:"\n    margin-left: 4px;\n    margin-right: -6px;\n  "});e.buttonLayoutStylesFn=(0,n.cssFragmentsObjToStylesFn)(l);e.default=(0,s.createVariant)(t.BaseButtonLayout,{container:"c863l3 atm_9s_1txwivl atm_ar_vrvcex atm_h_1h6ojuz atm_fc_1h6ojuz atm_mj_glywfm",content:"ck024z4",leading:"l1lzkx0q atm_gz_yjp0fh atm_h0_1y44olf",trailing:"t1f0pl66 atm_gz_1y44olf atm_h0_yjp0fh"})}),"3eacc9",["a85898","2d8af3","4786a8","aabdb1","92749c"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[1]),n=t(r(d[2])),l=r(d[3]);const s=()=>(0,o.createAction)(l.MARK_APP_INITIALIZED),p=()=>(t,o)=>o().application.initialized?Promise.resolve(!1):(t(s()),Promise.resolve(!0)),c={initializeApplicationWithBootstrapData:t=>(o,l)=>l().application.registeredComponents.length?t?(o(n.default.setCheckoutData(t)),o(p())):Promise.resolve(!1):o(p()),initializeApplicationIfUninitialized:(t,o)=>(l,s)=>{const c=s();return c.application.initialized?Promise.resolve(!1):c.application.registeredComponents.length?t?(l(n.default.setCheckoutData(t)),l(p())):l(n.default.fetchCheckoutData(o)).then((()=>l(p()))):l(p())},markAppInitialized:p,setAppInitialized:s};e.default=c}),"3fec7d",["ba7a76","39a120","eb65ac","787a1a"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=r(d[1]),u=t(r(d[2])),f=r(d[3]);const o=t=>(0,l.createAction)(f.SET_BILL_INFO,t),c={setBillInfo:o,updateBillInfo:t=>l=>(l(o(t)),l(u.default.fetchCheckoutData()))};e.default=c}),"3ffcaa",["ba7a76","39a120","eb65ac","32bbe1"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1]));t(r(d[2]));const o={sections:{TripDetailsCard:{loader:(0,r(d[3]).normalizeLoaderWithCaching)((()=>r(d[5])(d[4]).then(l.default)))}}};e.default=o}),"4178b3",["ba7a76","45f788","d17907","b4385c","3df4a5","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),o=r(d[1]),n=r(d[2]),s=r(d[3]);const l=(0,o.extendStyles)(s.baseModalContainerStylesFn,(({responsive:t})=>({dialog:{[t.mediumAndAbove]:{maxWidth:n.MAX_WIDTH_EXTRA_SMALL,boxShadow:n.BOX_SHADOW_STANDARD}}})));e.default=(0,t.withStyles)(l)(s.BaseModalContainer)}),"4419c1",["e0b084","01b367","9ddd26","f29bf2"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),c=r(d[1]);const n={setExperiments:n=>(0,t.createAction)(c.SET_EXPERIMENTS,n)};e.default=n}),"5addaa",["39a120","757269"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var A=r(d[1]),c=r(d[2]),o=t(r(d[3]));const p=t=>(0,A.createAction)(c.SET_GIFT_CREDIT_APPLIED,t),_=t=>(0,A.createAction)(c.TOGGLE_CREDIT_DEPOSIT_APPLIED,t),l={setGiftCreditApplied:p,updateAirbnbCreditApplied:t=>A=>(A(p(t)),A(o.default.fetchCheckoutData())),toggleCreditDepositAppliedAction:_,toggleCreditDepositApplied:t=>A=>(A(_(t)),A(o.default.fetchCheckoutData())),setIsMaxCreditAppliedAction:t=>(0,A.createAction)(c.SET_MAX_CREDIT_APPLIED,t),setIsMaxCreditApplied:t=>o=>{o((0,A.createAction)(c.SET_MAX_CREDIT_APPLIED,t))}};e.default=l}),"5f080f",["ba7a76","39a120","3d29f6","eb65ac"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(d[1]),s=t(r(d[2])),c=r(d[3]);const l=t=>(0,u.createAction)(c.SET_USER_DETAILS,t),f={setUserDetails:l,updateUserDetails:t=>u=>(u(l(t)),u(s.default.fetchCheckoutData()))};e.default=f}),"614b63",["ba7a76","39a120","eb65ac","3b27c6"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1]));var u=t(r(d[2])),f=t(r(d[3])),l=r(d[4]);e.default=t=>(0,l.jsx)(u.default,{...t,renderLoading:()=>(0,l.jsx)(f.default,{})})}),"65f57b",["ba7a76","07aa1f","808ed1","cc34f4","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),_=r(d[1]);const c={setCreditCardFieldCredentials:c=>(0,t.createAction)(_.SET_CREDIT_CARD_CREDENTIALS,c)};e.default=c}),"666fc2",["39a120","d7f0ce"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"QUICK_PAY_CONSUMER",{enumerable:!0,get:function(){return n.QUICK_PAY_CONSUMER}}),e.default=void 0;var o=t(r(d[1])),s=t(r(d[2])),n=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]),p=r(d[7]),f=r(d[8]),_=t(r(d[9])),h=t(r(d[10])),y=t(r(d[11])),I=t(r(d[12])),P=t(r(d[13])),b=t(r(d[14])),C=t(r(d[15])),k=t(r(d[16])),D=t(r(d[17])),E=t(r(d[18])),R=t(r(d[19])),A=t(r(d[20])),O=t(r(d[21])),B=t(r(d[22])),S=t(r(d[23])),v=t(r(d[24])),L=t(r(d[25])),N=t(r(d[26])),T=t(r(d[27])),U=t(r(d[28])),F=t(r(d[29])),M=t(r(d[30])),Q=t(r(d[31])),x=r(d[32]);class G extends o.default.PureComponent{constructor(t){super(t),this.store=void 0;const{billInfo:o,bootstrapPaymentsData:s,components:n,configurationData:l,quickPayConsumer:c,userDetails:p,bookingAttemptId:f,checkoutId:h,productListingId:y,mplBootstrapData:I,orderId:P,bookingQuoteId:C}=t;this.store=t.store||(0,_.default)(void 0),l&&this.bootstrapConfigurationData(l);const k=n;k.includes(u.REGISTRABLE_COMPONENTS.PRODUCT_PRICE_BREAKDOWN)&&k.push(u.REGISTRABLE_COMPONENTS.FX_MESSAGE),k.includes(u.REGISTRABLE_COMPONENTS.AIRBNB_CREDIT)&&k.push(u.REGISTRABLE_COMPONENTS.TRAVEL_COUPON_CREDIT);const{dispatch:D}=this.store;D(b.default.setBillInfo(o)),D(B.default.setQuickPayConsumer(c)),D(S.default.setRegisteredComponents(k)),D(N.default.setUserDetails(p)),D(A.default.setBookingAttemptId(f)),D(A.default.setCheckoutId(h)),D(T.default.setProductListingId(y)),D(M.default.setOrderId(P)),D(Q.default.setBookingQuoteId(C)),s&&D(E.default.initializeApplicationWithBootstrapData(s)),I&&D(U.default.setPaymentCollectionBoostrapData(I))}componentDidMount(){const{bootstrapPaymentsData:t,initialRequestPayload:o,persistPaymentData:s}=this.props,{dispatch:n}=this.store;n(E.default.initializeApplicationIfUninitialized(t,o)).catch((t=>{n(D.default.handleError(t)),n(E.default.markAppInitialized())})),s&&s(),(0,c.unsetQuickPayLastUrl)()}componentDidUpdate(t){const{billInfo:o,bookingAttemptId:n,bootstrapPaymentsData:u,checkoutId:c,configurationData:p,userDetails:f,orderId:_,bookingQuoteId:h}=t,{billInfo:y,bookingAttemptId:I,bootstrapPaymentsData:C,checkoutId:k,configurationData:E,persistPaymentData:B,userDetails:S,isCheckoutPlatform:v,mplBootstrapData:L,orderId:T,bookingQuoteId:F}=this.props,{dispatch:x}=this.store,G=!(0,s.default)(o,y),j=!(0,s.default)(o.product_infos,y.product_infos),Y=!(0,s.default)(n,I),q=!(0,s.default)(c,k),w=!(0,s.default)(p,E),z=!!C&&!(0,s.default)(u,C),K=!(0,s.default)(f,S)&&this.userDetailsHasFieldsForUpdate();if(w&&E&&this.bootstrapConfigurationData(E),G&&!v&&(o.isPrefetchBookingAttempt?(0,l.airdogCount)('quick_pay_mars_update_request_with_invalid_confirmation_code',1):(o.is_business_travel!==y.is_business_travel&&(x(O.default.setYieldSelectedPaymentOption(!0)),x(P.default.setGiftCreditApplied(!y.is_business_travel))),x(b.default.updateBillInfo(y)).catch((t=>x(D.default.handleError(t)))).finally((()=>{x(O.default.setYieldSelectedPaymentOption(!1))}))),(o.bill_item_product_id!==y.bill_item_product_id||j)&&x(b.default.setBillInfo(y))),G&&v&&(x(b.default.setBillInfo(y)),o.is_business_travel!==y.is_business_travel&&x(P.default.setGiftCreditApplied(!y.is_business_travel))),Y&&I&&this.store.dispatch(A.default.setBookingAttemptId(I)),q&&k&&this.store.dispatch(A.default.setCheckoutId(k)),K&&o.isPrefetchBookingAttempt&&(0,l.airdogCount)('quick_pay_mars_update_request_with_invalid_confirmation_code',1),K&&!o.isPrefetchBookingAttempt&&(!f.id&&S.id&&x(O.default.setYieldSelectedPaymentOption(!0)),x(N.default.updateUserDetails(S)).catch((t=>x(D.default.handleError(t)))).finally((()=>x(O.default.setYieldSelectedPaymentOption(!1))))),z){x(R.default.setCheckoutData(C));(!(0,s.default)(u?.payment_options?.selected_payment_option?.gibraltar_instrument_token,C?.payment_options?.selected_payment_option?.gibraltar_instrument_token)||!(0,s.default)(u?.payment_options?.selected_payment_option?.gibraltar_instrument_type,C?.payment_options?.selected_payment_option?.gibraltar_instrument_type)||!(0,s.default)(u?.payment_options?.selected_payment_option?.credit_card_details?.card_type,C?.payment_options?.selected_payment_option?.credit_card_details?.card_type))&&x(D.default.clearErrorMessage())}L&&x(U.default.setPaymentCollectionBoostrapData(L)),B&&B(),_!==T&&x(M.default.setOrderId(T)),h!==F&&x(Q.default.setBookingQuoteId(F)),this.checkIfResumePaymentFailure()}userDetailsHasFieldsForUpdate(){const{userDetails:t}=this.props;return!!(t&&t.id&&t.country&&t.currency)}bootstrapConfigurationData(t){const{credit_card_field_credentials:o,currency_countries:s,trebuchets:n,experiments:l,rollout_configurations:u}=t;this.store.dispatch(C.default.setCreditCardFieldCredentials(o)),this.store.dispatch(k.default.setCurrencyCountries(s)),n&&this.store.dispatch(L.default.setTrebuchets(n)),this.store.dispatch(v.default.setExperiments(l)),u&&this.store.dispatch(F.default.setRolloutConfigurations(u))}checkIfResumePaymentFailure(){const{dispatch:t}=this.store;(0,f.showResumePaymentFailureEnabled)()&&document.getElementById(p.QUICK_PAY_ERROR_MESSAGE_CONTAINER_ID)&&(0,c.isResumePaymentFailed)()&&t(D.default.handleResumePaymentError())}render(){const{loading:t,onLoaded:o,hideSubmitLoader:s,children:n,isCheckoutPlatform:l,showOnlySubmitLoader:u}=this.props;return(0,x.jsx)(I.default,{store:this.store,children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.default,{hideSubmitLoader:!!s,showOnlySubmitLoader:u,forceLoading:t,onLoaded:o,isCheckoutPlatform:l}),(0,x.jsxs)("div",{"data-testid":"payments-application",children:[(0,x.jsx)(h.default,{}),n]})]})})}}G.defaultProps={billInfo:{},bootstrapPaymentsData:void 0,components:[],configurationData:void 0,loading:!1,hideSubmitLoader:!1,store:void 0,onLoaded:void 0,bookingAttemptId:null,checkoutId:null,productListingId:null,isCheckoutPlatform:!1};e.default=G}),"67d8d7",["ba7a76","07aa1f","3dcd9d","8a0fc1","3e4681","d8d70d","9c3c46","539e0e","dba284","f19bbb","0daf15","707b35","0de3e2","5f080f","3ffcaa","666fc2","1be47d","16b998","3fec7d","eb65ac","e9c6f3","c233cc","e07750","27347b","5addaa","68550c","614b63","712092","8d2ab6","8516c0","173a85","8531bb","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),c=r(d[1]);const n={setTrebuchets:n=>{if(n.length){const u=n.reduce(((t,c)=>(t[c.trebuchet_name]=c.is_trebuchet_on,t)),{});return(0,t.createAction)(c.SET_TREBUCHETS,u)}return(0,t.createAction)(c.SET_TREBUCHETS,n)}};e.default=n}),"68550c",["39a120","9458e8"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n=[]){Object.keys(t.sections).forEach((s=>{if(0===n.length||n.includes(s)){const n=t.sections[s];(0,c.default)(n.loader)}}))};var c=t(r(d[1]))}),"6a608d",["ba7a76","5be8e0"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2])),n=r(d[3]);e.default=(0,l.default)((t=>({appInitialized:t.application.initialized,asyncRequestLoading:t.application.activeRequestCount>0,asyncVaultingRequestLoading:t.application.activeVaultingRequestCount>0,billRequest:t.application.billRequest})),{},void 0,{storeKey:n.STORE_KEY})(u.default)}),"707b35",["ba7a76","e54baf","8d60b7","f19bbb"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),c=r(d[1]);const o={setProductListingId:o=>(0,t.createAction)(c.SET_PRODUCT_LISTING_ID,o)};e.default=o}),"712092",["39a120","462fc1"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),o=t(r(d[3])),l=r(d[4]),c=t(r(d[5])),p=r(d[6]);class h extends s.default.PureComponent{render(){const{styles:t,css:s,text:l,animations:h}=this.props;return(0,p.jsx)(n.default,{children:(0,p.jsx)(o.default,{onClose:()=>{},accessibleTitle:l,children:(0,p.jsxs)("div",{...s(t.modal),children:[(0,p.jsx)("div",{...s(t.animation),children:(0,p.jsx)(c.default,{animations:h})}),(0,p.jsx)("div",{...s(t.text),children:l})]})})})}}e.default=(0,l.withStyles)((({dls19:t})=>({animation:{height:t.spacing.macro64px,width:t.spacing.macro64px},modal:{height:208},text:{...t.typography.titles.md,fontWeight:t.typography.weight.bold,margin:`${t.spacing.macro16px} 0 ${t.spacing.macro64px} ${t.spacing.macro16px}`}})),{pureComponent:!0})(h)}),"79d8e9",["ba7a76","07aa1f","11d10c","4419c1","e0b084","e50cfa","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var o=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),n=r(d[2]),c=r(d[3]),s=r(d[4]),u=o(r(d[5])),p=r(d[6]);const l=(o,t)=>(0,n.createAction)(p.APPEND_AVAILABLE_COUPONS,{afterCursor:t,coupons:o}),C=()=>(0,n.createAction)(p.CLEAR_AVAILABLE_COUPONS),_=()=>(0,n.createAction)(p.CLEAR_INPUT_ERROR),A=()=>(0,n.createAction)(p.CLEAR_MODAL_ERROR),E=o=>(0,n.createAction)(p.SET_FETCHING_STATE,o),P=o=>(0,n.createAction)(p.SET_MODAL_VISIBILITY,o),I=o=>(0,n.createAction)(p.UPDATE_COUPON_CODE_TO_APPLY,o),O={appendAvailableCoupons:l,applyCouponFromCode:(o,t=!0)=>(n,c)=>{const p=c();if(!p.coupon)return n(u.default.fetchCheckoutData()),Promise.resolve();p.coupon.isInputInvalid&&n(_()),p.coupon.modalErrorTitle&&n(A());const{applyCouponCb:l}=p.coupon,C=l(o,t).catch((o=>{throw o.responseJSON||o}));return n((0,s.wrapWithLoading)(C))},clearAvailableCoupons:C,clearInputError:_,clearModalError:A,closeCouponModal:()=>(o,t)=>{const n=t();[c.QUICK_PAY_CONSUMER.HOMES_CHECKOUT_PLATFORM].includes(n.application?.quickPayConsumer)||(n.coupon.isInputInvalid&&o(_()),n.coupon.modalErrorTitle&&o(A()),o(I('')),o(P(!1)))},claimCoupon:(o,n)=>(c,s)=>{const u=s().coupon.availableCoupons.filter((t=>t.couponCode===o));if(u.length>0){return u[0].isEligibleForReservation?Promise.reject(t.default.t('quick_pay.coupon.claim_eligible_coupon_error_message',{default:'This coupon has been added. Choose it to apply it.'})):Promise.resolve()}return'function'==typeof n?n({variables:{couponClaimInput:{couponCode:o}}}).then((o=>{const t=o.data?.couponClaim?.success,n=!!o.data?.couponClaim?.isPromotion;if(n)return Promise.resolve(n);if(!t)throw o.data?.couponClaim?.errorMessage;return Promise.resolve(n)})):Promise.resolve()},fetchCoupons:o=>(t,n)=>{const c=n();if(c.coupon.hasFetchedCoupons&&!c.coupon.afterCursor)return Promise.resolve();const{afterCursor:s}=c.coupon,u=s?{afterCursor:s}:{};return t(E(!0)),o(u).then((o=>{const{coupons:n}=o,{metadata:c}=o;return t(l(n,c&&c.cursors&&c.cursors.after)),n})).catch((()=>{})).then((o=>(t(E(!1)),o)))},refreshCouponsList:o=>t=>o({}).then((o=>{const{coupons:n}=o,{metadata:c}=o;t(C()),t(l(n,c&&c.cursors&&c.cursors.after))})),setFetchingState:E,setInputError:o=>(0,n.createAction)(p.SET_INPUT_ERROR,o),setInputVisibility:o=>(0,n.createAction)(p.SET_INPUT_VISIBILITY,o),setModalError:o=>(0,n.createAction)(p.SET_MODAL_ERROR,o),setModalVisibility:P,openCouponModal:()=>(0,n.createAction)(p.SET_MODAL_VISIBILITY,!0),updateCouponCodeToApply:I,setApplyCouponCb:o=>(0,n.createAction)(p.SET_APPLY_COUPON_CB,o),setAppliedCouponCode:o=>(0,n.createAction)(p.SET_APPLIED_COUPON_CODE,o)};e.default=O}),"7c73a8",["ba7a76","a9f4b1","39a120","8a0fc1","661090","eb65ac","76c779"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),n=t(r(d[2])),s=(r(d[3]),r(d[4])),o=t(r(d[5])),c=t(r(d[6])),_=r(d[7]);const f="ldornx1 atm_mk_stnw88 atm_tk_idpfg4 atm_fq_idpfg4 atm_n3_idpfg4 atm_6i_idpfg4",u="h1a2w4o2 atm_vl_15vqwwr",p=(0,o.default)((({children:t,isLoading:o,renderLoading:p,loading:h})=>{const v=(0,s.useCx)();if(!o&&!h)return t;const x=l.default.Children.only(t);return x.props.disabled,l.default.cloneElement(x,{children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{className:v(f),children:p()}),(0,_.jsx)(c.default,{children:n.default.t('dls.accessibility.button__loading',{default:'loading'})}),(0,_.jsx)("span",{className:v(u),children:x.props.children})]})})}));e.default=p}),"808ed1",["ba7a76","07aa1f","a9f4b1","ea4b89","4786a8","7837c8","a5b4f5","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),o=r(d[1]);const u={setRolloutConfigurations:u=>(0,t.createAction)(o.SET_ROLLOUT_CONFIGURATIONS,u)};e.default=u}),"8516c0",["39a120","577f21"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,l=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,c.jsx)(f.default,{...t,loader:o,renderPlaceholder:f.renderNull})};var u=l(r(d[0])),f=(l(r(d[2])),t(r(d[3]))),n=l(r(d[4])),c=r(d[5]);const o=Object.assign((0,n.default)((()=>r(d[7])(d[6]).then(u.default))),{prefetch:()=>r(d[7]).prefetch(d[6])})}),"8d17b4",["45f788","ba7a76","07aa1f","018c3b","b4385c","b8c07d","11f78b","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(d[1]),o=t(r(d[2])),n=r(d[3]);const _=t=>(0,c.createAction)(n.SET_PAYMENT_COLLECTION_PAY_DATE,t),A={setPaymentCollectionInitialData:t=>(0,c.createAction)(n.SET_PAYMENT_COLLECTION_INITIAL_DATA,t),setIsPayAsScheduled:t=>c=>(c(_(t)),c(o.default.fetchCheckoutData())),setPaymentOptionChanged:t=>(0,c.createAction)(n.SET_PAYMENT_OPTION_CHANGED,t),setPaymentCollectionBoostrapData:t=>(0,c.createAction)(n.SET_BOOTSTRAP,t),setPaymentCollectionSuccess:t=>(0,c.createAction)(n.SET_PAYMENT_COLLECTION_SUCCESS,t),setProcessAfter:_};e.default=A}),"8d2ab6",["ba7a76","39a120","eb65ac","f29422"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(r(d[2])),o=n(r(d[3])),u=n(r(d[4])),p=t(r(d[5])),l=n(r(d[6])),c=n(r(d[7])),_=n(r(d[8])),h=r(d[9]);const y=['/json_animations/quick_pay/p4_p5_transition/Rausch/Home.json','/json_animations/quick_pay/p4_p5_transition/Rausch/Heart.json','/json_animations/quick_pay/p4_p5_transition/Rausch/Key.json','/json_animations/quick_pay/p4_p5_transition/Rausch/Star.json'],f=['/json_animations/quick_pay/p4_p5_transition/Hackberry/Home_HackBerry.json','/json_animations/quick_pay/p4_p5_transition/Hackberry/Heart_HackBerry.json','/json_animations/quick_pay/p4_p5_transition/Hackberry/Key_HackBerry.json','/json_animations/quick_pay/p4_p5_transition/Hackberry/Star_HackBerry.json'];class q extends s.default.PureComponent{constructor(t){super(t),this.nodeId='quick-pay-loader-overlay',this.timerId=0,this.state={a11yMessage:u.default.t('quick_pay.loader_a11y_initial_message',{default:'Processing'}),announceA11yMessage:!0}}componentDidMount(){this.shouldRenderWrapper()&&this.mountWrapper()}componentWillUnmount(){clearInterval(this.timerId)}componentDidUpdate(){if(this.shouldRenderWrapper())return this.mountWrapper();this.unmountWrapper();const{onLoaded:t}=this.props;t&&t()}mountWrapper(){this.unmountWrapper(),this.timerId=window.setInterval((()=>{this.setState((t=>({a11yMessage:u.default.t('quick_pay.loader_a11y_still_processing',{default:'Still processing'}),announceA11yMessage:!t.announceA11yMessage})))}),4e3);const t=document.createElement('div');t.setAttribute('id',this.nodeId),document.body.appendChild(t),o.default.render(this.renderWrapper(),t)}unmountWrapper(){clearInterval(this.timerId);const t=document.getElementById(this.nodeId);t&&(o.default.unmountComponentAtNode(t),document.body.removeChild(t))}shouldUseQuickPayLoaderWrapper(){const{asyncVaultingRequestLoading:t,isCheckoutPlatform:n,onLoaded:s,showOnlySubmitLoader:o}=this.props;return!n||s||o||t}shouldRenderWrapper(){const{appInitialized:t,asyncRequestLoading:n,billRequest:s,forceLoading:o,hideSubmitLoader:u}=this.props;if(!this.shouldUseQuickPayLoaderWrapper())return!1;const p=!u&&s.billRequestLoading;return t&&n||o||p}getWrapperComponent(){const{brand:t,billRequest:n}=this.props,{announceA11yMessage:s,a11yMessage:o}=this.state;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.default,{ariaLive:"assertive",ariaAtomic:!0,children:s&&o}),n.billRequestLoading?(0,h.jsx)(_.default,{animations:t===p.BRAND_SELECT?f:y,text:u.default.t('quick_pay.processing_transaction')}):(0,h.jsx)(l.default,{})]})}renderWrapper(){const{billRequest:t,hideSubmitLoader:n,showOnlySubmitLoader:s}=this.props;return n&&t.billRequestLoading||s&&!t.billRequestLoading?(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("div",{children:this.shouldRenderWrapper()&&this.getWrapperComponent()})}render(){return null}}q.defaultProps={appInitialized:!1,asyncRequestLoading:!1,forceLoading:!1,hideSubmitLoader:!1,billRequest:{billRequestLoading:!1,billRequestSuccess:!1},isCheckoutPlatform:!1};e.default=(0,p.default)(q)}),"8d60b7",["45f788","ba7a76","07aa1f","b67917","a9f4b1","3c7349","716ec2","a5b4f5","79d8e9","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.findMatch=function(t){return t?.find((({match:t})=>t.isExact))},e.isPrefetchEnabled=function(){if(n.default.getBootstrap('prefetch_disabled'))return!1;const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{},{effectiveType:o,saveData:c}=t,f=!o&&n.default.getBootstrap('enable_prefetch_on_safari')||'4g'===o;return!c&&f},e.prefetchDefaultStrategy=function({formFactor:t,href:n,prefetch:o,scheduler:c}){if('compact'!==t)return;return c.postTask((()=>o({path:n})),{delay:250,event:'hydrate-complete'})};var n=t(r(d[1]))}),"8f1e90",["ba7a76","c235f8"]);
__d((function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});(e.CheckoutRequirementsInternalStateSession={defaultProps:{},propTypes:{}}).fullyQualifiedName='Checkout.v1.CheckoutRequirementsInternalStateSession'}),"a4a9b9",[]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.baseButtonLayoutStylesFn=e.baseButtonLayoutCssFragments=e.BaseButtonLayout=void 0;n(r(d[1]));var t=r(d[2]),s=r(d[3]),l=r(d[4]);e.BaseButtonLayout=({css:n,styles:o,children:c,leading:y,trailing:u,linariaClassNames:b})=>{const p=(0,s.useCx)();return(0,l.jsxs)("span",{className:p(b?.container),...(0,t.maybeRwsCss)(n,o?.container),children:[y&&(0,l.jsx)("span",{className:p(b?.leading),...(0,t.maybeRwsCss)(n,o?.leading),children:y}),(0,l.jsx)("span",{className:p(b?.content),...(0,t.maybeRwsCss)(n,o?.content),children:c}),u&&(0,l.jsx)("span",{className:p(b?.trailing),...(0,t.maybeRwsCss)(n,o?.trailing),children:u})]})};const o=e.baseButtonLayoutCssFragments={container:"\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    /* The layout should not overtake pointer events from the button. */\n    pointer-events: none;\n  ",content:"\n    /* stylelint-disable block-no-empty */\n    /* stylelint-enable block-no-empty */\n  ",leading:"\n    /* stylelint-disable block-no-empty */\n    /* stylelint-enable block-no-empty */\n  ",trailing:"\n    /* stylelint-disable block-no-empty */\n    /* stylelint-enable block-no-empty */\n  "};e.baseButtonLayoutStylesFn=(0,t.deprecatedExtendableStylesFn)('BaseButtonLayout',(()=>({container:(0,t.cssFragmentToRws)(o.container),content:(0,t.cssFragmentToRws)(o.content),leading:(0,t.cssFragmentToRws)(o.leading),trailing:(0,t.cssFragmentToRws)(o.trailing)})))}),"a85898",["ba7a76","07aa1f","2d8af3","4786a8","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"QUICK_PAY_REJECT_CHECKOUT_BILLS_NO_ERROR_MESSAGE_NO_ON_FAIILURE",{enumerable:!0,get:function(){return l.QUICK_PAY_REJECT_CHECKOUT_BILLS_NO_ERROR_MESSAGE_NO_ON_FAIILURE}}),e.default=function(t){const{Button:n}=t;return(0,c.jsx)(l.default,{...t,Button:n?f(n):function({children:t,...n}){return(0,c.jsx)(u.default,{...n,velouteId:o,children:(0,c.jsx)(_.default,{children:t})})},isDls19:!0})};n(r(d[2]));var u=n(r(d[3])),_=n(r(d[4])),l=t(r(d[5])),c=r(d[6]);const o='checkout-flow-submit-button';const f=t=>({children:n,...u})=>(0,c.jsx)(t,{...u,children:(0,c.jsx)(_.default,{children:n})})}),"abee9e",["45f788","ba7a76","07aa1f","278724","3eacc9","846a2c","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,o=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(d[2])),s=t(r(d[3]));function l(){const t=r(d[4]);return l=function(){return t},t}function u(){const t=r(d[5]);return u=function(){return t},t}function c(){const t=r(d[6]);return c=function(){return t},t}function _(){const t=r(d[7]);return _=function(){return t},t}function f(){const t=r(d[8]);return f=function(){return t},t}var I=t(r(d[9])),T=t(r(d[10])),p=r(d[11]),E=t(r(d[12])),b=t(r(d[13])),A=r(d[14]),h=r(d[15]),S=t(r(d[16])),R=o(r(d[17])),N=t(r(d[18])),O=t(r(d[19])),y=o(r(d[20])),C=t(r(d[21])),P=r(d[22]),v=r(d[23]),k=t(r(d[24])),F=r(d[25]),D=t(r(d[26])),x=t(r(d[27])),G=r(d[28]),M=r(d[29]),B=t(r(d[30])),H=r(d[31]),U=r(d[32]),q=r(d[33]),L=r(d[34]),V=t(r(d[35])),w=t(r(d[36])),Y=t(r(d[37])),j=t(r(d[38])),$=r(d[39]);const Q=(0,T.default)('CONFIRM_AND_PAY',{onBeforeSubmit:2})(R.default),K=(0,T.default)('ErrorMessagePortal',['onPressPrimary'])(C.default);function z(t,o){const{urlInfo:n}=t,{queryParams:{pendingTravelerId:s,pendingGuestEmail:l,isWorkTrip:u,openHomesAffiliated:c,causeId:_}}=n,f=c||!!_,I=u||f,T=(u||f&&o)&&l?{pending_3pb_guest_email:l}:{};return I?{business_travel:{is_open_homes:f,is_tracking_only:I,trip_notes:t.tripPurpose,pending_3pb_guest_id:s,...T}}:{}}function W(t){const{urlInfo:o}=t,{queryParams:{openHomesAffiliated:n,causeId:s,airbnbOrgGuestType:l,airbnbOrgResponseId:u}}=o;return n||void 0!==s?{airbnb_org_params:{airbnb_org_response_id:u,airbnb_org_guest_type:l}}:{}}function X(t,o){const n={PHONE_VERIFICATION:{sectionId:'PHONE_VERIFICATION',errorTitle:s.default.t('checkout.alert.phone_verification_title'),errorSubtitle:s.default.t('checkout.alert.phone_verification_subtitle'),primaryButtonText:s.default.t('checkout.alert.phone_verification_cta'),scrollToSectionId:'PHONE_VERIFICATION'},PROFILE_PHOTO:{sectionId:'PROFILE_PHOTO',errorTitle:s.default.t('checkout.alert.profile_photo_title'),errorSubtitle:s.default.t('checkout.alert.profile_photo_subtitle'),primaryButtonText:s.default.t('checkout.alert.profile_photo_cta'),scrollToSectionId:'PROFILE_PHOTO'},GUEST_DETAILS:{sectionId:'GUEST_DETAILS',errorTitle:s.default.t('checkout.alert.children_attestation_title'),errorSubtitle:s.default.t('checkout.alert.children_attestation_subtitle'),primaryButtonText:s.default.t('experiences_checkout.add_guest_modal_header'),screenId:'REQUIRED_GUEST_DETAILS',scrollToSectionId:o===y.FORM_FACTOR.WIDE?'REQUIRED_INFO_TITLE':void 0},PAN_ID_TASK:{sectionId:'INDIA_PAN_ID',errorTitle:s.default.t('checkout.alert.pan_id_requirement.title'),errorSubtitle:s.default.t('checkout.alert.pan_id_requirement.subtitle'),primaryButtonText:s.default.t('checkout.alert.pan_id.call_to_action'),scrollToSectionId:'INDIA_PAN_ID'},QUALITY_STANDARDS_ATTESTATION:{sectionId:'GUEST_ATTESTATION',errorTitle:s.default.t('guest_standards.attestation.p4_agree_toast'),errorSubtitle:s.default.t('guest_standards.attestation.p4_review_ground_rules_cta'),primaryButtonText:s.default.t('guest_standards.attestation.p4_review_cta'),scrollToSectionId:'GUEST_ATTESTATION'},CHINA_EMAIL_VERIFICATION:{sectionId:'CHINA_EMAIL_VERIFICATION',errorTitle:s.default.t('checkout.alert.china_email_verification_title'),errorSubtitle:s.default.t('checkout.alert.china_email_verification_subtitle'),primaryButtonText:s.default.t('checkout.alert.china_email_verification_cta'),scrollToSectionId:'CHINA_EMAIL_VERIFICATION'},CHINA_NAME_VERIFICATION:{sectionId:'CHINA_NAME_VERIFICATION',errorTitle:s.default.t('checkout.streamline_booking.china_name_verification.error_title'),errorSubtitle:s.default.t('checkout.streamline_booking.china_name_verification.modal_title'),primaryButtonText:s.default.t('checkout.streamline_booking.china_name_verification.error_cta'),scrollToSectionId:'CHINA_NAME_VERIFICATION'},PROPERTY_DAMAGE_CONSENT:{sectionId:'PROPERTY_DAMAGE_CONSENT',errorTitle:s.default.t('trust.or.property_damage_consent.section.error_text'),primaryButtonText:s.default.t('trust.or.property_damage_consent.section.link_text'),scrollToSectionId:'PROPERTY_DAMAGE_CONSENT'}};return t?n[t]:null}const J=['LIVE_STREAM_CONSENT','CUBA_ATTESTATION','SINGLE_SIGN_ON_LOGIN'];function Z({scheduler:t}){return t.postTask((()=>{(0,U.getStaysConfirmationRoutePrepare)(),(0,U.getStaysConfirmationRoute)(),E.default.getBootstrap('m1_co_travelers')&&((0,V.default)(w.default),(0,V.default)(Y.default),(0,V.default)(j.default))}),{delay:250,event:'hydrate-complete'})}e.default=(0,B.default)((0,h.withPlatformState)((({billItemProductType:t,completedDisableDeps:o,cubaAttestation:n,hotelGuestName:s,isRequiredAttestationChecked:l,hasFirstMessageError:u,hasRequiredAttestationError:c,messageToHost:_,numberOfAdults:f,numberOfChildren:I,tripPurpose:T,sectionErrors:p,urlInfo:E,numberOfInfants:b})=>({billItemProductType:t,completedDisableDeps:o,cubaAttestation:n,hotelGuestName:s,isRequiredAttestationChecked:l,hasFirstMessageError:u,hasRequiredAttestationError:c,messageToHost:_,numberOfAdults:f,numberOfChildren:I,tripPurpose:T,sectionErrors:p,urlInfo:E,numberOfInfants:b})),(({billItemProductType:t,completedDisableDeps:o,cubaAttestation:n,hotelGuestName:s,isRequiredAttestationChecked:l,hasFirstMessageError:u,hasRequiredAttestationError:c,messageToHost:_,numberOfAdults:f,numberOfChildren:I,tripPurpose:T,sectionErrors:p,urlInfo:E,numberOfInfants:b})=>[t,o,n,s,l,u,c,_,f,I,T,p,E,b])),(0,H.withStyles)((({dls19:t})=>({subtitle:{...t.typography.base.md,display:'flex',justifyContent:'center',marginTop:t.spacing.micro12px,[t.responsive.queries.mediumAndAbove]:{display:'block'}}}))))((function({clientEventDataContext:t,disableDependencies:o,disabled:T,platformState:h,pluginPointId:C,preSubmitPromise:B,readyForAutomaticSubmit:H,section:U,setPlatformState:V,css:w,styles:Y}){const{billItemProductType:j,completedDisableDeps:ee,urlInfo:te,cubaAttestation:oe,hasFirstMessageError:re,isRequiredAttestationChecked:ie}=h,ne=(0,y.default)(),[ae,se]=(0,n.useState)(!1),[le,ue]=(0,n.useState)(!1),{prefetch:ce}=(0,f().usePrefetch)(),de=(0,n.useCallback)((()=>{se(!1)}),[]),_e=o?.find((t=>t&&!ee[t])),fe=(0,n.useMemo)((()=>X(_e,ne)||''),[ne,_e]),Ie=!!o?.find((t=>t&&J.includes(t)&&!ee[t]));let Te,me,pe,Ee,be,Ae,he,ge,Se,Re,Ne,Oe,ye,Ce,Pe;const ve=(0,F.isExperiencesProduct)(j),ke='CUBA_ATTESTATION',Fe='PHONE_VERIFICATION',De='PROFILE_PHOTO',xe='PAN_ID_TASK',Ge='GUEST_COUNT',Me='DATES',Be='AIRBNB_ORG_EMERGENCY_SELECTOR',He='AIRBNB_ORG_GUEST_TYPE_SELECTOR',Ue='AIRBNB_ORG_THIRD_PARTY_BOOKING',qe='GUEST_ATTESTATION',Le='CHINA_EMAIL_VERIFICATION',Ve='CHINA_NAME_VERIFICATION',we='PROPERTY_DAMAGE_CONSENT',Ye=document.getElementById(G.REQUIRED_FIRST_MESSAGE_ID),je=document.getElementById(G.REQUIRED_ATTESTATION_ID);Ye&&(Te='boolean'==typeof re&&!re),je&&(me='boolean'==typeof ie&&ie),o?.find((t=>t===ke))&&(pe=void 0!==ee[ke]&&ee[ke]),o?.find((t=>t===Fe))&&(Ee=void 0!==ee[Fe]&&ee[Fe]),o?.find((t=>t===De))&&(be=void 0!==ee[De]&&ee[De]),o?.find((t=>t===xe))&&(Ae=void 0!==ee[xe]&&ee[xe]),o?.find((t=>t===Ge))&&(he=void 0!==ee[Ge]&&ee[Ge]),o?.find((t=>t===Me))&&(ge=void 0!==ee[Me]&&ee[Me]),o?.find((t=>t===Be))&&(Se=void 0!==ee[Be]&&ee[Be]),o?.find((t=>t===He))&&(Re=void 0!==ee[He]&&ee[He]),o?.find((t=>t===Ue))&&(Ne=void 0!==ee[Ue]&&ee[Ue]),o?.find((t=>t===qe))&&(Oe=void 0!==ee[qe]&&ee[qe]),o?.find((t=>t===Le))&&(ye=void 0!==ee[Le]&&ee[Le]),o?.find((t=>t===Ve))&&(Ce=void 0!==ee[Ve]&&ee[Ve]),o?.find((t=>t===we))&&(Pe=void 0!==ee[we]&&ee[we]),(0,D.default)({schema:_().CheckoutRequirementsInternalStateSession,event_data:{requirements:{...'boolean'==typeof Te&&{FIRST_MESSAGE:Te},...'boolean'==typeof me&&{PARTY_ATTESTATION:me},...'boolean'==typeof pe&&{[ke]:pe},...'boolean'==typeof Ee&&{[Fe]:Ee},...'boolean'==typeof be&&{[De]:be},...'boolean'==typeof Ae&&{[xe]:Ae},...'boolean'==typeof he&&{[Ge]:he},...'boolean'==typeof ge&&{[Me]:ge},...'boolean'==typeof Se&&{[Be]:Se},...'boolean'==typeof Re&&{[He]:Re},...'boolean'==typeof Ne&&{[Ue]:Ne},...'boolean'==typeof Oe&&{[qe]:Oe},...'boolean'==typeof ye&&{[Le]:ye},...'boolean'==typeof Ce&&{[Ve]:Ce},...'boolean'==typeof Pe&&{[we]:Pe}}}},[Te,me,pe,Ee,be,Ae,he,ge,Se,Re,Ne,Oe,ye,Ce,Pe],!ve);const $e=(0,n.useRef)(),Qe=_e?`error_${_e}`:'',Ke=(0,n.useCallback)((t=>{const o=ve?'CheckoutExperience':'CheckoutHome',n=t=>`${M.LOGGING_PREFIX}.${C}.${t}`;$e.current&&t&&(I.default.logJitneyEvent({schema:c().UniversalComponentActionEvent,event_data:{uuid:(0,u().v4)(),logging_id:n(t),ancestor_uuids:[],ancestor_logging_ids:[],method:'shouldInterceptSubmit',component:'CONFIRM_AND_PAY',page:o,operation:2}}),$e.current=!1)}),[ve,C]),ze=(0,n.useCallback)((()=>{if(T&&fe)return V({sectionErrors:{[fe.sectionId]:s.default.t('homes_checkout_flow.error_message.field value is required')}}),ue(!0),Ke(Qe),!0;if(Ye&&(!h.messageToHost||0===h.messageToHost.trim().length))return V({hasFirstMessageError:!0}),Ke("error_FIRST_MESSAGE"),!0;return document.getElementById(G.REQUIRED_ATTESTATION_ID)&&!0!==h.isRequiredAttestationChecked?(V({hasRequiredAttestationError:!0}),Ke("error_REQUIRED_ATTESTATION"),!0):!(H||!B)}),[T,h.isRequiredAttestationChecked,h.messageToHost,B,H,fe,V,Ke,Qe,Ye]),We=(0,n.useCallback)((()=>{$e.current=!0,B&&B(),ze()||(se(!0),V({sectionErrors:{}}),Ke("continue"))}),[B,V,ze,Ke]),[Xe,Je]=(0,n.useState)(null),{code:Ze}=te.queryParams,{additionalFulfillmentParams:et,isInstantBookable:tt,subtitle:ot,title:rt}=U,it=E.default.getBootstrap('a4w_3pb_improvement_airbnb_org'),nt=(0,n.useMemo)((()=>({fulfillment_params:[ve?{product_type:S.default.TRIP,...oe&&{guest_address:{addr_line_1:oe.street,postal_code:oe.zipcode,city:oe.city,state:oe.state,country:oe.country_code},travel_purpose:Number(oe.reasonIndex)>=0?Number(oe.reasonIndex):-1}}:{product_type:S.default.RESERVATION,reservation_details:{message_to_host:h.messageToHost,is_consolidated_fov_entry_point:!0,guest_legal_first_name:h.hotelGuestName?.firstName,guest_legal_last_name:h.hotelGuestName?.lastName,guest_legal_chinese_name:h.hotelGuestName?.chineseName},request_info:{context:'web'},...z(h,it),...W(h),cuba_attestation:h.cubaAttestation,...et}]})),[ve,h,et,it,oe]),at=(0,n.useCallback)((o=>{t&&(0,M.logCheckoutFlowCompletionEvent)(t,ve?'Experiences':'Stays');const n=()=>{const t=o.checkout_bill?.bill?.redirect_settings?.url,n=(0,P.getIdentityFreezeReason)(o),s='ConfirmAndPay',l=de,u=Je;(0,b.default)({context:A.UserContext.BOOKING_POST_P4_HUB,bookingData:{reservationCode:Ze},freezeReason:n},(()=>(0,P.redirectToReservationPage)({code:Ze,canceled:!1,freezeReason:n,isExperiences:ve,loggingContext:s,redirectUrl:t})),(()=>(0,P.redirectToReservationPage)({code:Ze,canceled:!0,freezeReason:n,isExperiences:ve,loggingContext:s,redirectUrl:t})),l,u)};if((t=>'wechat_nonbinding_qr_code'===t?.checkout_bill?.bill?.redirect_settings?.type)(o)&&(de(),(0,P.shouldTriggerFovFlow)(o)))return Promise.resolve((()=>{se(!0),n()}));(t=>'upi_await'===t?.checkout_bill?.bill?.redirect_settings?.type)(o)&&de();(t=>'upi_qrcode'===t?.checkout_bill?.bill?.redirect_settings?.type)(o)&&de();return(t=>'async_qrcode'===t?.checkout_bill?.bill?.redirect_settings?.type)(o)&&de(),(0,P.shouldTriggerFovFlow)(o)?(n(),Promise.reject(R.QUICK_PAY_REJECT_CHECKOUT_BILLS_NO_ERROR_MESSAGE_NO_ON_FAIILURE)):(ce({path:(0,q.createViaductP5Url)(Ze||'')}),Promise.resolve())}),[Ze,t,de,ve,ce]),st=(t={})=>()=>{const o='confirm-and-pay-button-subtitle',n=t.fullWidth?void 0:s.default.t('stays.checkout.confirm_and_pay_cta_button_a11y_label',{cta_label:rt||''});var u;return u=(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Q,{...t,"aria-describedby":ot&&o,"aria-label":n,loggingID:`${M.LOGGING_PREFIX}.${C}`,eventDataSchema:l().CheckoutContext,disabled:T&&!fe||Ie,additionalSubmitParams:nt,submitType:N.default.CONFIRM_AND_PAY,onBeforeSubmit:We,onSuccess:at,shouldInterceptSubmit:ze,buttonText:rt||'',onFailure:de,readyForAutomaticSubmit:!!H,useCustomEmitHandler:(0,L.shouldShowBlockedReservationFriction)(),isInstantBookable:tt}),ot&&(0,$.jsx)("div",{id:o,...w(Y.subtitle),children:ot})]}),ve?u:(0,$.jsx)(k.default,{href:(0,q.createViaductP5Url)(Ze||''),strategy:Z,children:u})};return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(O.default,{renderCompact:st({fullWidth:!0,isVaultingInContextSheetRequired:!0}),renderWide:st()}),(0,$.jsx)(x.default,{isExperiencesProduct:ve,isOpen:ae,identityLoader:Xe,onClose:de,isM1VideoLoader:L.isM1VideoLoader}),le&&fe&&(0,$.jsx)(K,{error:{title:fe.errorTitle,subtitle:fe.errorSubtitle,primaryButtonText:fe.primaryButtonText},eventDataSchema:l().CheckoutContext,loggingID:`${M.LOGGING_PREFIX}.${C}.error_${_e}.action`,onPressPrimary:()=>{if(fe.scrollToSectionId){const t=document.querySelector(`div[data-plugin-in-point-id=${fe.scrollToSectionId}]`);t&&(t.scrollIntoView({behavior:'smooth',block:'center'}),t.setAttribute('tabindex','-1'),t.focus({preventScroll:!0}))}else fe.screenId&&(0,p.pushToHistory)((0,v.getModalUrl)({queryParams:te.queryParams,location:te.location,screenId:fe.screenId}))},clearErrorMessage:()=>ue(!1)})]})}))}),"b6c99a",["ba7a76","45f788","07aa1f","a9f4b1","b7d5f2","305dd5","59c871","a4a9b9","068abc","c8b97a","9092d5","7b2359","c235f8","117de6","e3eb42","de4273","75a800","abee9e","017d8b","3c74b4","e0b071","6c93f6","02f9df","fc4612","c25709","82eab1","bae1c0","8d17b4","0239cd","a55423","5010f2","e0b084","f1aefd","5f0a2b","dba284","6a608d","c5d654","4178b3","c39e5b","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=n(r(d[2])),o=n(r(d[3]));function c(){const t=r(d[4]);return c=function(){return t},t}var f=r(d[5]),s=r(d[6]);function l(){const t=r(d[7]);return l=function(){return t},t}var h=t(r(d[8])),v=r(d[9]),p=r(d[10]);e.default=(0,u.memo)((function({autoPrefetchWhenInView:t,children:n,href:P,prefetchImmediately:R,strategy:b=v.prefetchDefaultStrategy}){const E=(0,o.default)(),M=void 0!==R,[y,C]=(0,h.default)({skip:M}),F=(0,u.useRef)(!1),[_,O]=(0,u.useState)(!1),{abort:I,scheduler:S,signal:k}=(0,f.usePostTaskScheduler)({name:'GPPrefetch',priority:'background',strategy:'recycle'}),x=(0,u.useContext)(c().NiobeClientReactContext),{getMatchedRoute:A}=(0,s.useAppRoutes)(),{prefetch:D}=(0,l().usePrefetch)({overrideScheduler:!0});function T(){O(!0)}function W(){O(!1)}return(0,u.useEffect)((()=>{F.current=!1}),[b,E,P]),(0,u.useEffect)((()=>{if(!M||!R||!(0,v.isPrefetchEnabled)()||E===o.FORM_FACTOR.WIDE||!x||!P||F.current)return;return(b({formFactor:E,getMatchedRoute:A,href:P,niobeClients:x,prefetch:D,scheduler:S,signal:k})||Promise.resolve()).then((()=>{F.current=!0})),I}),[I,E,A,P,M,x,D,R,S,k,b]),(0,u.useEffect)((()=>{if(M||F.current)return;if(!(C&&P&&x&&(E!==o.FORM_FACTOR.WIDE||_||t)&&(0,v.isPrefetchEnabled)()))return void I();return(b({formFactor:E,getMatchedRoute:A,href:P,niobeClients:x,prefetch:D,scheduler:S,signal:k})||Promise.resolve()).then((()=>{F.current=!0})),()=>{I()}}),[I,E,A,P,C,_,M,x,D,t,R,S,k,b]),(0,p.jsx)("div",{ref:y,onMouseEnter:M?void 0:T,onMouseLeave:M?void 0:W,onFocus:M?void 0:T,onBlur:M?void 0:W,children:n})}))}),"c25709",["ba7a76","45f788","07aa1f","e0b071","7ab1a7","53bb4a","2c12de","068abc","f32823","8f1e90","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));t(r(d[2]));const n={sections:{StayConfirmationButtonSection:{loader:(0,r(d[3]).normalizeLoaderWithCaching)((()=>r(d[5])(d[4]).then(o.default)))}}};e.default=n}),"c39e5b",["ba7a76","45f788","d17907","b4385c","b5b9e9","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.brandCssFragments=e.BrandButton=void 0;t(r(d[1]));var n=r(d[2]),o=(r(d[3]),r(d[4]),t(r(d[5]))),l=r(d[6]);e.BrandButton=({children:t,disabled:c,...s})=>(0,l.jsx)(n.BaseButtonOrAnchor,{...s,disabled:c,children:(0,l.jsx)(o.default,{disabled:c,children:t})});e.brandCssFragments={component:"\n    border: none;\n    background: var(--linaria-theme_palette-bg-secondary-core); /* migrated from theme.palette.rauschGradient\n      .linearGradient */\n    color: var(--linaria-theme_palette-text-primary-inverse); /* migrated from theme.palette.white */\n\n    &:hover {\n      border: none;\n      background: var(--linaria-theme_palette-bg-secondary-core); /* migrated from theme.palette.rauschGradient\n        .linearGradient */\n      color: var(--linaria-theme_palette-text-primary-inverse); /* migrated from theme.palette.white */\n    }\n\n    &:active {\n      border: none;\n      background: var(--linaria-theme_palette-bg-primary-core); /* migrated from theme.palette.rausch */\n      color: var(--linaria-theme_palette-text-primary-inverse); /* migrated from theme.palette.white */\n    }\n\n    &:disabled {\n      border: none;\n      background: var(--linaria-theme_palette-bg-tertiary); /* migrated from theme.palette.bobo */\n      color: var(--linaria-theme_palette-text-primary-inverse); /* migrated from theme.palette.white */\n    }\n\n    @supports (--custom: properties) {\n      background: var(\n        --dls19-brand-gradient,\n        var(--linaria-theme_palette-bg-secondary-core)\n      ); /* migrated from var(--dls19-brand-gradient, theme.palette.rauschGradient\n        .linearGradient) */\n\n      &:hover {\n        background: var(\n          --dls19-brand-gradient,\n          var(--linaria-theme_palette-bg-secondary-core)\n        ); /* migrated from var(--dls19-brand-gradient, theme.palette.rauschGradient\n          .linearGradient) */\n      }\n\n      &:active {\n        background: var(\n          --dls19-brand-gradient-accent,\n          var(--linaria-theme_palette-bg-primary-core)\n        ); /* migrated from var(--dls19-brand-gradient-accent, theme.palette.rausch) */\n      }\n\n      &:disabled {\n        background: var(--linaria-theme_palette-bg-tertiary); /* migrated from theme.palette.bobo */\n      }\n    }\n  "}}),"c4afb2",["ba7a76","07aa1f","60c631","2d8af3","4786a8","c99872","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1]));t(r(d[2]));const n={sections:{StayConfirmationPostcardHeader:{loader:(0,r(d[3]).normalizeLoaderWithCaching)((()=>r(d[5])(d[4]).then(o.default)))}}};e.default=n}),"c5d654",["ba7a76","45f788","d17907","b4385c","a604cc","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(d[1]);var n=r(d[2]),o=r(d[3]),_=(r(d[4]),r(d[5]));t(r(d[6]));(0,o.cssFragmentsObjToStylesFn)({content:"\n    display: block;     position: relative;     pointer-events: none;\n  ",thermalContainer:"\n    position: absolute;     top: 0;     left: 0;     right: 0;     bottom: 0;     width: 100%;     height: 100%;     overflow: hidden;     /* Fixes overflow: hidden in Safari */     /* stylelint-disable property-no-vendor-prefix, value-no-vendor-prefix */     -webkit-mask-image: -webkit-radial-gradient(white, black);     mask-image: -webkit-radial-gradient(white, black);     /* stylelint-enable property-no-vendor-prefix, value-no-vendor-prefix */\n    border-radius: var(--linaria-theme_corner-radius-small8px-border-radius);\n  ",thermal:"\n    display: block;     width: 100%;     height: 100%;     min-width: 200px;     background-size: 200% 200%;     opacity: 0;     transition: opacity 1.25s;     background-image: linear-gradient(       to right,       var(--linaria-theme_palette-bg-primary-inverse) 0%,       var(--linaria-theme_palette-bg-primary) 50%,       var(--linaria-theme_palette-bg-primary-inverse) 100%     ); /* migrated from linear-gradient(to right, black 0%, white 50%, black 100%) */     &:hover {       opacity: 1;     }     &:active {       transition: transform 2s, opacity 2s;       opacity: 0;       transform: scale(5);     }\n    /* migrated from theme.palette.rauschGradient.radialGradient */\n    background-image: var(--linaria-theme_palette-bg-secondary-core-hover);\n\n    &:disabled {\n      background-image: none;\n    }\n\n    @supports (--custom: properties) {\n      background-image: var(\n        --dls19-brand-gradient-radial,\n        var(--linaria-theme_palette-bg-secondary-core-hover)\n          /* migrated from theme.palette.rauschGradient.radialGradient */\n      );\n    }\n  "});e.default=(0,_.createVariant)(n.BaseThermal,{content:"c9x5udt atm_9s_1ulexfb atm_mk_h2mmj6 atm_mj_glywfm",thermalContainer:"tb4j57x atm_mk_stnw88 atm_tk_idpfg4 atm_fq_idpfg4 atm_n3_idpfg4 atm_6i_idpfg4 atm_vy_1osqo2v atm_e2_1osqo2v atm_ks_15vqwwr atm_ib_1yr6ypa atm_ia_1yr6ypa atm_5j_t09oo2",thermal:"tmel3e0 atm_9s_1ulexfb atm_vy_1osqo2v atm_e2_1osqo2v atm_jb_uuw12j atm_2w_1egmwxu atm_k4_idpfg4 atm_uc_kn5pbq atm_2g_1wjry6k atm_2g_1mygper atm_k4_kb7nvz_1nos8r atm_uc_yz1f4_csw3t1 atm_k4_idpfg4_csw3t1 atm_tr_kftzq4_csw3t1 atm_2g_glywfm_1o5j5ji atm_2g_181pwnh__1vlbm2j"})}),"c99872",["ba7a76","ea4b89","be6270","2d8af3","4786a8","92749c","5aed2e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),_=(r(d[1]),r(d[2])),o=r(d[3]);const s=(0,r(d[4]).mergeStyles)(t.baseDotLoaderCssFragments,{dot:"\n    /* migrated from theme.palette.white */\n    background-color: var(--linaria-theme_palette-bg-primary);\n  "});(0,_.cssFragmentsObjToStylesFn)(s);e.default=(0,o.createVariant)(t.BaseDotLoader,{container:"c165xz1y atm_gi_xjk4d9 atm_r3_1h6ojuz atm_vv_1q9ccgz atm_mk_stnw88 atm_tk_1ssbidh atm_fq_1ssbidh atm_tr_dbra1j",dot:"d17v416l atm_2d_18sdevw atm_vy_i2wt44 atm_e2_i2wt44 atm_h0_1y44olf atm_gz_idpfg4 atm_5j_1osqo2v atm_9s_1o8liyq atm_1c_1puvm74 atm_y_17f45by atm_16_12c5xpv atm_1k_p3knf3 atm_12_1hrf63d atm_vh_nkobfv atm_2d_1qwqy05",dot1:"d1bwn31 atm_q_bwqryj",dot2:"dxjl3gp atm_q_1gqjw39",dot3:"dt0xl4z atm_h0_idpfg4"})}),"cc34f4",["63265a","4786a8","2d8af3","92749c","aabdb1"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),u=r(d[1]);const c={setQuickPayConsumer:c=>(0,t.createAction)(u.SET_QUICK_PAY_CONSUMER,c)};e.default=c}),"e07750",["39a120","f8e392"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,l=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,c.jsx)(u.default,{loader:o,renderPlaceholder:u.renderNull,...t})};var n=l(r(d[0])),u=(l(r(d[2])),t(r(d[3]))),f=r(d[4]),c=r(d[5]);const o=Object.assign((0,f.normalizeLoader)((()=>r(d[7])(d[6]).then(n.default))),{prefetch:()=>r(d[7]).prefetch(d[6])})}),"e50cfa",["45f788","ba7a76","07aa1f","018c3b","09d809","b8c07d","74f5ee","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),c=r(d[1]);const o={setBookingAttemptId:o=>(0,t.createAction)(c.SET_BOOKING_ATTEMPT_ID,o),setCheckoutId:o=>(0,t.createAction)(c.SET_CHECKOUT_ID,o),setRefreshRequest:(o=!0)=>(0,t.createAction)(c.SET_REFRESH_REQUEST,o)};e.default=o}),"e9c6f3",["39a120","b00dd8"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.baseModalContainerStylesFn=e.BaseModalContainer=void 0;var n=t(r(d[1]));function o(){const n=t(r(d[2]));return o=function(){return n},n}var s=r(d[3]),l=r(d[4]),c=t(r(d[5])),u=t(r(d[6])),f=r(d[7]),h=t(r(d[8])),p=t(r(d[9])),v=t(r(d[10])),b=t(r(d[11])),y=t(r(d[12])),x=r(d[13]);const C={...{onClose:(0,c.default)(o().default.func),accessibleTitle:o().default.string.isRequired,children:o().default.node.isRequired,restoreFocus:(0,c.default)((0,y.default)())},...s.withStylesPropTypes},R={onClose:void 0,restoreFocus:void 0};class w extends n.default.Component{constructor(t){super(t),this.dialogRef=void 0,this.setDialogRef=this.setDialogRef.bind(this),this.onOverlayClick=this.onOverlayClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}setDialogRef(t){this.dialogRef=t}onOverlayClick(t){const{onClose:n}=this.props;n&&this.dialogRef&&t.target instanceof Node&&t.currentTarget instanceof Node&&t.currentTarget.contains(t.target)&&!this.dialogRef.contains(t.target)&&n(t)}onKeyDown(t){const{onClose:n}=this.props;n&&'Escape'===t.key&&t.target instanceof Node&&t.currentTarget instanceof Node&&t.currentTarget.contains(t.target)&&n(t)}render(){const{accessibleTitle:t,children:n,css:o,styles:s,restoreFocus:l}=this.props;return(0,x.jsx)("div",{...o(s.container),onClick:this.onOverlayClick,onKeyDown:this.onKeyDown,children:(0,x.jsx)("div",{...o(s.innerContainer),children:(0,x.jsx)(b.default,{enabled:!0,children:(0,x.jsx)(v.default,{enabled:!0,children:({setHideOutsideFromAccessibilityRef:c})=>(0,x.jsx)(p.default,{enabled:!0,restoreFocus:l,children:({setAutoFocusRef:l})=>(0,x.jsx)("div",{role:"dialog","aria-label":t,ref:t=>{this.setDialogRef(t),l(t),c(t)},...o(s.dialog),children:(0,x.jsx)(h.default,{startingHeadingLevel:1,children:(0,x.jsx)("div",{...o(s.content),children:n})})})})})})})})}}e.BaseModalContainer=w,w.propTypes=C,w.defaultProps=R;e.baseModalContainerStylesFn=(0,l.extendableStyleFn)((({dls19:t})=>({container:{display:'flex',alignItems:'center',minHeight:'100vh'},innerContainer:{position:'relative',marginLeft:'auto',marginRight:'auto'},dialog:{animationName:{'0%':{transform:'translateY(100vh)'},'100%':{transform:'translateY(0)'}},animationDuration:'.5s',animationIterationCount:1,zIndex:u.default.modal,position:'fixed',left:0,right:0,top:0,bottom:0,marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,maxWidth:'none',width:'100%',backgroundColor:t.palette.white,boxShadow:'none',boxSizing:'border-box',overflowY:'auto',WebkitOverflowScrolling:'touch',[t.responsive.queries.mediumAndAbove]:{animationName:'none',position:'relative',marginTop:8*t.spacing.primitives.baseUnit,marginBottom:8*t.spacing.primitives.baseUnit,maxWidth:f.MAX_WIDTH_STANDARD,width:'90vw',overflow:'visible'},':focus':{outline:'none'}},content:{padding:4*t.spacing.primitives.baseUnit}})))}),"f29bf2",["ba7a76","07aa1f","b56f5a","e0b084","01b367","0a2076","69089a","9ddd26","b5f1d2","6e28ab","3ac0b0","41510f","0a2076","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n={}){const[s,o]=(0,t.useState)(n.initialInView??!1),[c,l]=(0,t.useState)(void 0),[f,y]=(0,t.useState)(void 0);u(f,((t,n)=>{o(t),l(n)}),n),(0,t.useEffect)((()=>{f||!c?.target||n.triggerOnce||n.skip||(o(!!n.initialInView??!1),l(void 0))}),[f,c,n.triggerOnce,n.skip,n.initialInView]);const v=[y,s,c];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v};var t=r(d[0]);function n(){const t=r(d[1]);return n=function(){return t},t}var s=r(d[2]),o=r(d[3]);function u(u,c,{root:l,rootMargin:f,threshold:y,trackVisibility:v,delay:h,skip:k,triggerOnce:V}={}){const{scheduler:S}=(0,s.usePostTaskScheduler)({strategy:'recycle'}),b=(0,o.useDangerousEvent)(c);(0,t.useEffect)((()=>{if(!u||k)return;let t;const s=(0,n().observe)(u,((n,o)=>{t=S.requestAnimationFrame((()=>{b(n,o)})),o.isIntersecting&&V&&s&&s()}),{root:l,rootMargin:f,threshold:y,trackVisibility:v,delay:h});return()=>{s(),t?.()}}),[Array.isArray(y)?y.toString():y,b,h,u,l,f,S,k,v])}}),"f32823",["07aa1f","b99fef","53bb4a","f4e9c4"]);
__r("a9f4b1").extend({"quick_pay.coupon.claim_eligible_coupon_error_message":"This coupon has been added. Choose it to apply it.","dls.accessibility.button__loading":"loading","quick_pay.loader_a11y_initial_message":"Processing","quick_pay.loader_a11y_still_processing":"Still processing","quick_pay.processing_transaction":"Processing transaction...","checkout.alert.phone_verification_title":"Add your phone number to continue","checkout.alert.phone_verification_subtitle":"This ensures that you won't miss out on trip updates.","checkout.alert.phone_verification_cta":"Verify phone number","checkout.alert.profile_photo_title":"Add a profile photo to continue","checkout.alert.profile_photo_subtitle":"This wont be shared with the host until your booking is confirmed.","checkout.alert.profile_photo_cta":"Add photo","checkout.alert.children_attestation_title":"Don't forget to add guest details","checkout.alert.children_attestation_subtitle":"Attesting to legal guardianship and adding age detail for children is required.","experiences_checkout.add_guest_modal_header":"Add guest details","checkout.alert.pan_id_requirement.title":"Add Permanent Account Number (PAN) to continue","checkout.alert.pan_id_requirement.subtitle":"A valid PAN is required for this trip per Reserve Bank of India (RBI) regulations","checkout.alert.pan_id.call_to_action":"Add PAN","guest_standards.attestation.p4_agree_toast":"Youll need to agree to Airbnbs ground rules for guests before booking your trip.","guest_standards.attestation.p4_review_ground_rules_cta":"Review our ground rules","guest_standards.attestation.p4_review_cta":"Review","checkout.alert.china_email_verification_title":"Please add an email address to continue","checkout.alert.china_email_verification_subtitle":"We'll email you your itinerary confirmation and receipt","checkout.alert.china_email_verification_cta":"Add it now","checkout.streamline_booking.china_name_verification.error_title":"Please add your name to complete the booking.","checkout.streamline_booking.china_name_verification.modal_title":"Set your name, let the host know how to address you","checkout.streamline_booking.china_name_verification.error_cta":"Add your name","trust.or.property_damage_consent.section.error_text":"Youll need to agree to our damage policy before booking your trip.","trust.or.property_damage_consent.section.link_text":"Review","homes_checkout_flow.error_message.field value is required":"This field is required","stays.checkout.confirm_and_pay_cta_button_a11y_label":"%{cta_label}. Navigate past the %{cta_label} button to read your reservation details."});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/f6ca.6f39cf6d9a.js.map