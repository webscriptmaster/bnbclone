__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(t){return void 0!==t}Object.defineProperty(e,"__esModule",{value:!0}),e.extractItemsWithLocators=function({itemsLocation:o,result:s,keyPath:u,parameterizedFields:c}){return o.reduce(((o,s)=>{const{responseKey:p,typeCondition:y}=s;return o.flatMap((({value:n,responsePath:o})=>{if(n&&(!n.__typename||y.includes(n.__typename))){const s=n[p];return s?Array.isArray(s)?s.map(((n,s)=>({value:n,responsePath:[...o,p,s],...u&&{keyPath:u},...u&&{key:(0,t().computeNormalizedCacheKey)(u,n)},...c&&{...c}}))):[{value:s,responsePath:[...o,p],...u&&{keyPath:u},...u&&{key:(0,t().computeNormalizedCacheKey)(u,s)},...c&&{parameterizedFields:c}}]:[]}})).filter(n)}),[{value:s.data,responsePath:[],...u&&{keyPath:[]}}])}}),"0eb06a",["db2ccf"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKeyPathValue=function(t,u){return t.reduce(((t,u)=>t?.[u]),u)}}),"0f44fa",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetricReporterToken=void 0;var t=r(d[0]);e.MetricReporterToken=(0,t.createToken)('MetricReporterToken')}),"1c4201",["cd87be"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeMinimalistCache=void 0,e.cacheDeferredResolver=function(t,{key:s,deferrable:o,fetchPolicy:n},h){if(!o)return;if('network-only'===n||'no-cache'===n)return;const c=t.get(s)?.result;function l(t){return'client-hydration'===h()?new Promise((t=>setTimeout(t,0))).then((()=>l(t))):t}if('server-render'===h())return;if(!c)return;if(!c.deferred)return Promise.resolve(c).then(l);return new Promise((o=>t.watch(s,(t=>{t&&o(t)})))).then(l)},e.cacheDeferredSentinel=function(t,{key:s,deferrable:o},n){o&&'server-render'===n()&&t.set(s,{data:void 0,deferred:!0},!1)},e.cacheResolver=function(t,{key:s,fetchPolicy:o,deferrable:n,queryRef:h,maxAge:c},l){if(h){if(h.options.deferrable&&('server-render'===l()||'client-hydration'===l()))return;const{result:t}=h;return t&&!t.deferred?{result:t,fromPrefetch:!1}:void 0}if('network-only'===o||'no-cache'===o)return;if('cache-and-network'===o&&'client-hydration'!==l())return;if(n&&('server-render'===l()||'client-hydration'===l()))return;const{result:u,fromPrefetch:f}=t.get(s,{maxAge:c})||{};if('server-render'===l()&&u?.deferred)return;return u?.deferred?void 0:u?{result:u,fromPrefetch:Boolean(f)}:void 0},e.cacheResult=function(t,{key:s,fetchPolicy:o,variables:n,context:{type:h}={}},c,l){if(c.deferred)return;if('no-cache'===o)return;c.error&&!t.get(s)?.result?.deferred||!0===c?.error?.extraInfo?.ssrNetworkTimeout||c.error?.graphQLErrors&&c.error?.graphQLErrors.some((({message:t})=>'PersistedQueryNotFound'===t))||t.set(s,c,'prefetch'===h,l,n)};var s=t(r(d[1]));function o(){const t=r(d[2]);return o=function(){return t},t}function n(){const t=r(d[3]);return n=function(){return t},t}const h=null;class c{constructor(t){this.key=void 0,this.size=void 0,this.result=void 0,this.variables=void 0,this.normalizedItemsLocators=void 0,this.createdAt=void 0,this.fromPrefetch=void 0,this.watchers=void 0,this.key=t,this.watchers=[],this.size=0,this.fromPrefetch=!1}setResult(t,s,o){const n=this.result;this.result=t,this.fromPrefetch=s;const h=void 0===t,c=JSON.stringify(t?.data),l=c===JSON.stringify(n?.data);this.size=t?.data?c.length:0,this.createdAt=o(),l&&!h||this.notify()}setNormalizedItemsLocators(t){this.normalizedItemsLocators=t}setVariables(t){this.variables=t}isCollectable(){return 0===this.watchers.length}watch(t){const s=this;return s.watchers=s.watchers.concat(t),function(){s.watchers=s.watchers.filter((s=>s!==t))}}notify(){const{watchers:t,result:s}=this;this.watchers=[],t.forEach((t=>t(s)))}}e.NiobeMinimalistCache=class{constructor({hydrationData:t,metricReporter:s,maxSize:o=1/0}){this.data=void 0,this.normalizedItems=void 0,this.size=void 0,this.maxSize=void 0,this.lastTouchedEntry=void 0,this.metricReporter=void 0,this.now=void 0,this.data=new Map,this.normalizedItems=new Map,this.size=0,this.maxSize=o,this.metricReporter=s,this.now=s.now,t.forEach((([t,s])=>{this.set(t,s,!1,s.normalizedItemsLocators,s.variables)}))}serialize(){return Array.from(this.data.entries()).reduce(((t,[s,o])=>{if(o!==h&&void 0!==o.result){const{variables:n,normalizedItemsLocators:h}=o,{data:c,error:l,deferred:u}=o.result;t.push([s,{data:c,error:l,deferred:u,variables:n,normalizedItemsLocators:h}])}return t}),[])}get(t,s={}){const{data:o,metricReporter:n,now:c}=this,{maxAge:l}=s,u=o.get(t);if(u===h&&n.increment('frontend.niobe.mini_cache_miss',1,{}),!u)return;const{createdAt:f}=u;return f&&l&&c()-1e3*l>f?void 0:(this.touch(u),u)}getNormalizedItem(t){const{normalizedItems:s,metricReporter:o}=this,n=s.get(t);if(n===h&&o.increment('frontend.niobe.mini_cache_miss',1,{}),n)return this.touchNormalizedItem(n),n}set(t,o,h,l,u,f){const{data:z,now:v}=this,y=z.get(t),w=y??new c(t),I=o&&(0,n().extractNormalizedItems)(l,o,u);w.setVariables(u),l&&w.setNormalizedItemsLocators(l),w.setResult(o,h,v),I&&(f||I.forEach((({key:t,value:o,parameterizedFieldsValues:n})=>{s.default.getBootstrap('web_normalization_rearchitecture_killswitch')||n?.forEach((t=>this.setNormalizedItem(t.key,{data:t.value}))),this.setNormalizedItem(t,{data:o})})),o&&(0,n().watchNormalizedDependencies)(this,t,o,I,l)),this.touch(w),this.size+=w.size-(y?.size??0),this.prune()}setNormalizedItem(t,s){const{normalizedItems:n,now:h}=this,l=n.get(t),u=l??new c(t);u.setResult({...s,data:(0,o().deepMergeExceptArrays)(l?.result?.data,s?.data)},!1,h),this.touchNormalizedItem(u),this.size+=u.size-(l?.size??0),this.prune()}watch(t,s){const{data:o}=this,n=o.get(t)??new c(t);return o.set(t,n),n.watch(s)}watchNormalizedItem(t,s){const{normalizedItems:o}=this,n=o.get(t)??new c(t);return o.set(t,n),n.watch(s)}invalidate({keyPrefix:t}){const{data:s}=this;[...s.keys()].filter((s=>s.startsWith(t))).forEach((t=>{this.set(t,void 0,!1)}))}clear(){this.data.clear(),this.normalizedItems.clear(),this.size=0,this.lastTouchedEntry=void 0}delete(t){const s=this.data.get(t);s&&(this.data.set(t,h),this.size-=s.size)}deleteNormalizedItem(t){const s=this.normalizedItems.get(t);s&&(this.normalizedItems.set(t,h),this.size-=s.size)}touch(t){t!==this.lastTouchedEntry&&(this.lastTouchedEntry=t,this.data.delete(t.key),this.data.set(t.key,t))}touchNormalizedItem(t){t!==this.lastTouchedEntry&&(this.lastTouchedEntry=t,this.normalizedItems.delete(t.key),this.normalizedItems.set(t.key,t))}prune(){for(const[t,s]of this.normalizedItems){if(this.size<=this.maxSize)break;s!==h&&s.isCollectable()&&this.deleteNormalizedItem(t)}for(const[t,s]of this.data){if(this.size<=this.maxSize)break;s!==h&&s.isCollectable()&&this.delete(t)}}}}),"220417",["ba7a76","c235f8","ddd25e","45e161"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const u=t(r(d[1]));return n=function(){return u},u}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){const o=(0,n().default)(window);return new t({apiGatewayURL:'',data:u,...o})}}),"2b68b4",["ba7a76","a6e325"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.webSocketClientInstaller=function({provide:t}){t(o().WebSocketClientToken,[n.WebSocketToken,o().WebSocketGatewayConfigToken,u().MetricReporterToken,f().JitneyLoggerToken],((n,{url:t},o,u)=>{if(!n)return;if(!t)return;const f=window;return new(c().WebSocketClient)({metricReporter:o,jitneyLogger:u,WebSocket:n,onlineIndicator:f,wsGatewayURL:t})}))},e.webSocketGatewayConfigInstaller=function({provide:c}){c(o().WebSocketGatewayConfigToken,[n.HostnameToken,n.PortToken],((n,o)=>({url:(0,t.getWebSocketGatewayURL)({hostname:n,port:o})})))};var n=r(d[0]),t=r(d[1]);function o(){const n=r(d[2]);return o=function(){return n},n}function c(){const n=r(d[3]);return c=function(){return n},n}function u(){const n=r(d[4]);return u=function(){return n},n}function f(){const n=r(d[5]);return f=function(){return n},n}}),"2ed1a6",["b51a5d","8420b9","a7551e","84b0db","1c4201","5116d4"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.withGraphql=function({prepare:n,extraProps:P}={}){return C=>{function h(t,o){const u=(0,l().useNiobeClients)({context:o}),v=(0,c().usePrepare)({prepareLoader:n,context:o}),{match:x,location:y}=t,b=(0,s().usePrepareProps)({niobeClients:u,prepare:v,preparePropsCacheKey:h,location:y,extraProps:P,match:x});if(null===u||null===v){C.load?.();const{Placeholder:n}=C;return n?(0,f.jsx)(n,{...t}):null}return void 0!==v&&null===b?null:(0,f.jsx)(p().NiobeClientReactContext.Provider,{value:u,children:(0,f.jsx)(C,{...t,...b})})}return h.load=async function(){const n=h.loadComponent(),t=h.loadPrepare(),o=await h.loadClientConstructors(),[u]=await Promise.all([n,t,...o]);return u},h.loadClientConstructors=function(){return(0,l().loadNiobeClientConstructors)()},h.loadComponent=async function(){const[n,t]=await Promise.all([C.loadComponent?.(),C.load?.()]);return n??t??(()=>null)},h.loadPrepare=async function(){const[t,o]=await Promise.all([n?.().then((t=>(n.value=t,t))),C.loadPrepare?.()]);return t??o??(()=>({}))},h.prepareNiobe=function(t){n&&!n.value&&(0,u().throwNiobeError)((0,u().unexpectedlyUnloadedPrepareLoader)());const o=n?.value?.({...t,...P})??{};return Promise.resolve(o).then((n=>{t.requestPreparePropsCache&&t.requestPreparePropsCache.set(h,n)})),o},h.displayName=`withGraphql(${C.displayName??C.name})`,h.InnerComponent=C,h.contextTypes={...o.asyncChunksContextTypes},(0,t.default)(h,C,{load:!0,loadPrepare:!0,loadComponent:!0,prepareNiobe:!0})}};n(r(d[1]));var t=n(r(d[2])),o=r(d[3]);function u(){const n=r(d[4]);return u=function(){return n},n}function l(){const n=r(d[5]);return l=function(){return n},n}function c(){const n=r(d[6]);return c=function(){return n},n}function s(){const n=r(d[7]);return s=function(){return n},n}function p(){const n=r(d[8]);return p=function(){return n},n}var f=r(d[9])}),"3f2f1f",["ba7a76","07aa1f","14e802","f35aee","8e002d","e7c79c","d0d9f3","dee61e","7ab1a7","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t(r(d[1])),u=t(r(d[2]));e.default=Object.assign((0,u.default)((()=>r(d[4])(d[3]).then(f.default))),{prefetch:()=>r(d[4]).prefetch(d[3])})}),"4001b2",["ba7a76","45f788","b4385c","c809a3","057569"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.extractNormalizedItems=function(t,n,s){return t?.flatMap((t=>{const{itemsLocation:c,keyPath:u,parameterizedFields:f}=t,h=(0,l().extractItemsWithLocators)({itemsLocation:c,result:n,keyPath:u,parameterizedFields:f}).filter((({key:t})=>t));if(o.default.getBootstrap('web_normalization_rearchitecture_killswitch'))return h;return(0,l().extractParameterizedFieldsFromItems)({normalizedItems:h,variables:s})}))},e.watchNormalizedDependencies=function(t,n,l,c,u){let f,h=!1;const y=c?.map((({key:c,responsePath:p,value:z,keyPath:P,parameterizedFieldsValues:_})=>t.watchNormalizedItem(c,(({data:c}={data:void 0})=>{f||(f=o.default.getBootstrap('web.niobe.normalize_read_from_cache')&&t.get(n)?.result||l),c&&(!o.default.getBootstrap('web_normalization_rearchitecture_killswitch')&&_?.length&&_.forEach((({key:o,responsePath:n})=>{const l=t.getNormalizedItem(o);l&&(c=s(n,c,l.result?.data))})),f={...f,data:s(p,f.data,c,z,P)},h||(h=!0,Promise.resolve().then((()=>{y?.forEach((t=>t())),t.set(n,f,!1,u,void 0,!0)}))))}))))};var o=t(r(d[1]));function n(){const t=r(d[2]);return n=function(){return t},t}function l(){const t=r(d[3]);return l=function(){return t},t}function s(t,o,c,u,f){if(0===t.length){if(f){if((0,l().getKeyPathValue)(f,o)!==(0,l().getKeyPathValue)(f,c))return o}return c}const[h,...y]=t;return'number'==typeof h?Array.isArray(o)?!o[h]&&u?o:[...o.slice(0,h),s(y,o[h],c,u,f),...o.slice(h+1)]:((0,n().warnNiobeError)((0,n().invalidNormalizationPatch)()),o):'string'==typeof h?'object'!=typeof o||!o||Array.isArray(o)?((0,n().warnNiobeError)((0,n().invalidNormalizationPatch)()),o):{...o,[h]:s(y,o[h],c,u,f)}:void(0,n().warnNiobeError)((0,n().invalidNormalizationPatch)())}}),"45e161",["ba7a76","c235f8","8e002d","ddd25e"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.jitneyLoggerInstaller=function({provide:n}){n(u().JitneyLoggerToken,[o.TrackingToken],(n=>t.default.logJitneyEvent.bind(t.default)))};var t=n(r(d[1])),o=r(d[2]);function u(){const n=r(d[3]);return u=function(){return n},n}}),"4cfd84",["ba7a76","c8b97a","b51a5d","5116d4"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JitneyLoggerToken=void 0;var o=r(d[0]);e.JitneyLoggerToken=(0,o.createToken)('JitneyLoggerToken')}),"5116d4",["cd87be"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.installNiobeClient=function(n){v.forEach((t=>t(n)))};var t=n(r(d[1])),o=r(d[2]);function c(){const n=r(d[3]);return c=function(){return n},n}var u=n(r(d[4]));n(r(d[5]));function l(){const n=r(d[6]);return l=function(){return n},n}function f(){const n=r(d[7]);return f=function(){return n},n}function s(){const t=n(r(d[8]));return s=function(){return t},t}function p(){const t=n(r(d[9]));return p=function(){return t},t}function b(){const n=r(d[10]);return b=function(){return n},n}function y(){const n=r(d[11]);return y=function(){return n},n}function k(){const n=r(d[12]);return k=function(){return n},n}function C(){const n=r(d[13]);return C=function(){return n},n}function h(){const n=r(d[14]);return h=function(){return n},n}function w(){const n=r(d[15]);return w=function(){return n},n}function R(){const n=r(d[16]);return R=function(){return n},n}function L(){const n=r(d[17]);return L=function(){return n},n}function S(){const n=r(d[18]);return S=function(){return n},n}function T(){const n=r(d[19]);return T=function(){return n},n}function M(n,t,u){return function({provide:s}){s(n,[f().MetricReporterToken,T().JitneyLoggerToken,c().FetchToken,o.QueryParamsToken,t,L().WebSocketClientToken],((n,t,o,c,f,s,p)=>{let b;return()=>(b||(b=u({metricReporter:n,jitneyLogger:t,fetch:o,queryParams:c,getRenderingState:l().getRenderingState,cache:f,webSocketClient:s,apiGatewayConfig:p})),b)}))}}function N(n,t){return function({provide:o}){o(t,[n],(n=>n()))}}const j=[b().hyperloopEnvInstaller,y().metricReporterInstaller,k().jitneyLoggerInstaller,function({provide:n}){n(w().NiobeMinimalistCacheToken,[f().MetricReporterToken],{hydrate:n=>t=>new(h().NiobeMinimalistCache)({hydrationData:n||[],metricReporter:t}),serialize:n=>n.serialize()})},S().webSocketGatewayConfigInstaller,S().webSocketClientInstaller,u.default,M(w().NiobeApolloClientLoaderToken,w().NiobeApolloCacheToken,(async({metricReporter:n,jitneyLogger:t,fetch:o,queryParams:c,getRenderingState:u,apiGatewayConfig:l})=>{const f=!!c?.niobe_skip_prepare,b={...(0,s().default)(c),...(0,p().default)(),...l?.headers};return new(await(0,C().niobeApolloClientLoader)())({fetch:o,metricReporter:n,jitneyLogger:t,extraHeaders:b,disablePrepare:f,getRenderingState:u,apiGatewayURL:l?.url||''})})),M(w().NiobeMinimalistClientLoaderToken,w().NiobeMinimalistCacheToken,(async({metricReporter:n,jitneyLogger:o,fetch:c,queryParams:u,getRenderingState:l,cache:f,apiGatewayConfig:p,webSocketClient:b})=>{const y=!!u?.niobe_skip_prepare,k={...(0,s().default)(u),...p?.headers},h=window.performance,w=h?.memory?.jsHeapSizeLimit,R=w&&w/4;return new(await(0,C().niobeMinimalistClientLoader)())({cache:f,disablePrepare:y,extraHeaders:k,fetch:c,generateRandomString:t.default,getRenderingState:l,metricReporter:n,jitneyLogger:o,cacheMaxSize:R,apiGatewayURL:p?.url,webSocketClient:b})}))],v=(N(w().NiobeApolloClientLoaderToken,R().NiobeApolloClientToken),[...j,N(w().NiobeMinimalistClientLoaderToken,R().NiobeMinimalistClientToken)])}),"5c7fa6",["ba7a76","24220e","b51a5d","af7c70","422b9d","3dbc1a","4e4ed7","1c4201","dbad64","a54380","b01c0c","783fa7","4cfd84","d75111","220417","99c695","75d8f7","a7551e","2ed1a6","5116d4"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.convertCustomRouteConfig=function t(n,o=""){return n.map((n=>{let s;return s='function'==typeof n.path?c(n.path(o)):c(`${o}${c(n.path)}`),{path:s,component:n.component,exact:n.exact,key:n.key,routes:n.routes?t(n.routes,s):[],header:n.header,footer:n.footer,options:n.options}}))},e.generateAsyncRouteComponent=function({loader:t,Placeholder:c=null,preloadAdditionalAsyncChunks:h=[]}){let l=null;class p extends n.default.Component{constructor(n,s){super(n,s),this.state=void 0,this.mounted=!0,h&&h.length>0&&(0,o.pushAsyncChunks)(h,s),(0,o.collectAsyncChunks)(t,s),this.updateState=this.updateState.bind(this),this.state={Component:l||t.value||null}}static load(){return t().then((t=>(l=(0,s.getDefaultExport)(t),p.Component=l,l)))}static prefetch(){return t.prefetch?.()}static getChunkNames(){if(null===l)throw new ReferenceError('Component must be preloaded before we can access the chunk name.');return[t().chunkName,...h]}UNSAFE_componentWillMount(){this.mounted=!0,p.load().then(this.updateState)}UNSAFE_componentWillUnmount(){this.mounted=!1}updateState(){let t={};l&&this.state.Component!==l&&(t={...t,Component:l}),Object.keys(t).length>0&&this.mounted&&this.setState(t)}render(){const{Component:t}=this.state;return t?(0,u.jsx)(t,{...this.props}):c?(0,u.jsx)(c,{...this.props}):null}}return p.Component=void 0,p.Placeholder=c,p.contextTypes={...o.asyncChunksContextTypes},p};var n=t(r(d[1])),o=r(d[2]),s=r(d[3]),u=(t(r(d[4])),t(r(d[5])),r(d[6]));function c(t=""){let n=t.replace('//','/');return n.startsWith('/')||(n=`/${n}`),n}}),"6a00e4",["ba7a76","07aa1f","f35aee","09d809","e80eed","77633c","b8c07d"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HyperloopEnvToken=void 0;var o=r(d[0]);e.HyperloopEnvToken=(0,o.createToken)('HyperloopEnvToken')}),"7188d2",["cd87be"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeMinimalistClientToken=e.NiobeApolloClientToken=void 0;var o=r(d[0]);e.NiobeApolloClientToken=(0,o.createToken)('NiobeApolloClientToken'),e.NiobeMinimalistClientToken=(0,o.createToken)('NiobeMinimalistClientToken')}),"75d8f7",["cd87be"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){const f=(0,u.default)(t,n);if(f&&f[0])return f[0];return null};var u=t(r(d[1]))}),"77633c",["ba7a76","e80eed"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}function o(){const t=r(d[2]);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.metricReporterInstaller=function({provide:u}){u(t().MetricReporterToken,[],(()=>{let t;return t=(0,o().getBrowserHyperloopEnv)(),(0,n().createBrowserMetricReporter)(t)}))}}),"783fa7",["1c4201","7026da","5e1f8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeClientReactContext=void 0;var t=r(d[0]);(e.NiobeClientReactContext=(0,t.createContext)(null)).displayName='NiobeClientReactContext'}),"7ab1a7",["07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepMergeExceptArrays=function t(c,n){if(c&&n&&'object'==typeof c&&'object'==typeof n&&!Array.isArray(c)&&!Array.isArray(n))return Object.fromEntries([...Object.entries(c),...Object.entries(n).map((([n,o])=>[n,t(c[n],o)]))]);return n}}),"7eab75",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToStableObjectOrder=function t(o){if(Array.isArray(o))return o.map((o=>t(o)));if('object'==typeof o&&null!==o){const n=o;return'function'==typeof n.toJSON?t(n.toJSON()):Object.keys(o).sort().reduce(((n,c)=>(n[c]=t(o[c]),n)),{})}return o}}),"7f2d15",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buggyApolloCacheFragmentSelectionsWrite=function(n){return t('NIOBE41')},e.invalidNiobeClientType=function(n){return t(`NIOBE04 [${n}]`)},e.invalidNormalizationPatch=function(){return t('NIOBE42')},e.invalidQueryRefError=function(n){return t('NIOBE11')},e.minimalistOperationGivenToApolloClient=function(n){return t(`NIOBE51 [${n}]`)},e.mismatchingNiobeClientType=function(n,o){return t(`NIOBE05 [${n} ${o}]`)},e.mismatchingQueryRef=function(n,o){return t('NIOBE13')},e.missingSerializedNiobeCache=function(){return t('NIOBE31')},e.niobeClientNotFoundFromContext=function(n){return t(`NIOBE01 [${n}]`)},e.noMatchingQueryRef=function(n){return t('NIOBE12')},e.receivedQueryRefForWrongClient=function({type:n},{type:o}){return t(`NIOBE03 [${n} ${o}]`)},e.reportNiobeError=o,e.ssrTimeoutError=function(n,o){return t(`NIOBE52 [${n}]`)},e.throwNiobeError=function(n){throw n},e.unexpectedlyLoadingObservable=function(n){return t('NIOBE29')},e.unexpectedlyUnloadedPrepareLoader=function(){return t('NIOBE21')},e.unparseableSubscriptionMessage=function(n){return t(`NIOBE71 [${n}]`)},e.warnNiobeError=function(n,t){o(n,t)};var n=r(d[0]);function t(t){return new n.PineappleError(t,{fingerprint:['niobe']})}function o(t,o){(0,n.reportError)(t,o)}}),"8e002d",["f2f40f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NiobeMinimalistClientLoaderToken=e.NiobeMinimalistCacheToken=e.NiobeApolloClientLoaderToken=e.NiobeApolloCacheToken=void 0;var o=r(d[0]);e.NiobeApolloClientLoaderToken=(0,o.createToken)('NiobeApolloClientLoaderToken'),e.NiobeMinimalistClientLoaderToken=(0,o.createToken)('NiobeMinimalistClientLoaderToken'),e.NiobeApolloCacheToken=(0,o.createToken)('NiobeApolloCacheToken',{hydrate:!0,getDefault:()=>({})}),e.NiobeMinimalistCacheToken=(0,o.createToken)('NiobeMinimalistCacheToken',{hydrate:!0})}),"99c695",["cd87be"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getMinimalistClientConstructor=void 0,e.useMinimalistClient=function({context:t}={}){(0,o.collectAsyncChunks)(C().niobeMinimalistClientLoader,t);const{niobeMinimalistClient:b}=(0,n.useContext)(u.HyperloopProvidedContext),{niobeMinimalClientData:v}=(0,n.useContext)(l.HyperloopPropsContext),{niobeMinimalistClient:p}=(0,n.useContext)(c().NiobeClientReactContext)??{},[x,y]=(0,n.useState)((()=>b??p??(M.value&&(0,f().default)(M.value,v??(0,s().getState)()?.niobeMinimalClientData))));return(0,n.useEffect)((()=>{let t=!0;return x||M().then((n=>{t&&y((0,f().default)(n,v??(0,s().getState)()?.niobeMinimalClientData))})),()=>{t=!1}}),[]),(0,n.useEffect)((()=>{let t=!0;if(x&&!p)return(async()=>{for await(const n of(0,s().getDeferredStateStream)())t&&n?.niobeMinimalClientData&&x.updateCache(n?.niobeMinimalClientData)})(),()=>{t=!1}}),[x,p]),x};var n=r(d[1]),o=r(d[2]),u=r(d[3]),l=r(d[4]);function c(){const t=r(d[5]);return c=function(){return t},t}function s(){const t=r(d[6]);return s=function(){return t},t}function C(){const t=r(d[7]);return C=function(){return t},t}function f(){const n=t(r(d[8]));return f=function(){return n},n}const M=async()=>{const t=await(0,C().niobeMinimalistClientLoader)();return M.value=t,t};e.getMinimalistClientConstructor=M}),"9b702c",["ba7a76","07aa1f","f35aee","a78e15","ab9511","7ab1a7","e7c79c","d75111","41faa0"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeURLSearchParams=function(...n){const t=n.filter(Boolean);return t.length?1===t.length?new URLSearchParams(t[0]):new URLSearchParams(t.flatMap((n=>n instanceof URLSearchParams?[...n.entries()]:Array.isArray(n)?n:[...new URLSearchParams(n).entries()]))):void 0}}),"9cf591",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketGatewayConfigToken=e.WebSocketClientToken=void 0;var o=r(d[0]);e.WebSocketClientToken=(0,o.createToken)('WebSocketClientToken'),e.WebSocketGatewayConfigToken=(0,o.createToken)('WebSocketGatewayConfigToken')}),"a7551e",["cd87be"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.extractParameterizedFieldsFromItems=function({normalizedItems:s,variables:u}){return s.map((s=>{const{parameterizedFields:o}=s;if(!o)return s;const c=o.map((o=>{const{inputs:c}=o,l=c.reduce(((t,n)=>{const{name:s,value:o}=n;if('unsupported!'===o)return t;if(!o.startsWith('$'))return t[s]=o,t;if(!u)return t;const c=o.replace('$','');return u[c]?(t[s]=u[c],t):t}),{}),p=(0,n().extractItemsWithLocators)({itemsLocation:o.fieldResponsePath,result:{data:s.value}});if(!p[0])return s;const[f]=p,z=f.responsePath.join('.');return{key:(0,t().computeParameterizizedFieldCacheKey)({parentKey:s.key,variables:l,parameterizedFields:z}),...f}}));return{...s,parameterizedFieldsValues:c}}))}}),"a7d269",["ae8f90","0eb06a"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.computeParameterizizedFieldCacheKey=function({parentKey:n,parameterizedFields:c,variables:u}){return`${n}/${c}:${u?JSON.stringify((0,t().convertToStableObjectOrder)(u)):''}`}}),"ae8f90",["7f2d15"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hyperloopEnvInstaller=function({provide:t}){t(n().HyperloopEnvToken,[],o().getBrowserHyperloopEnv)};r(d[0]);function n(){const o=r(d[1]);return n=function(){return o},o}function o(){const n=r(d[2]);return o=function(){return n},n}}),"b01c0c",["b51a5d","7188d2","5e1f8e"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getApolloClientConstructor=void 0,e.useNiobeApolloClient=function({skip:t=!1,context:A}={}){t||(0,o.collectAsyncChunks)(s().niobeApolloClientLoader,A);const{niobeApolloClient:b}=(0,n.useContext)(l.HyperloopProvidedContext),{niobeApolloClientData:v=(0,f().getState)()?.niobeApolloClientData}=(0,n.useContext)(u.HyperloopPropsContext),{niobeApolloClient:x}=(0,n.useContext)(c().NiobeClientReactContext)??{},[y,_]=(0,n.useState)((()=>b??x??(p.value&&(0,C().default)(p.value,v))));return(0,n.useEffect)((()=>{let n=!0;return y||t||p().then((t=>{n&&_((0,C().default)(t,v))})),()=>{n=!1}}),[]),y};var n=r(d[1]),o=r(d[2]),l=r(d[3]),u=r(d[4]);function c(){const t=r(d[5]);return c=function(){return t},t}function s(){const t=r(d[6]);return s=function(){return t},t}function C(){const n=t(r(d[7]));return C=function(){return n},n}function f(){const t=r(d[8]);return f=function(){return t},t}const p=async()=>{const t=await(0,s().niobeApolloClientLoader)();return p.value=t,t};e.getApolloClientConstructor=p}),"bcce8b",["ba7a76","07aa1f","f35aee","a78e15","ab9511","7ab1a7","d75111","2b68b4","e7c79c"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrebuchetClientContext=void 0;var t=r(d[0]);(e.TrebuchetClientContext=(0,t.createContext)(void 0)).displayName='TrebuchetClientContext'}),"c5fff4",["07aa1f"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatUrl=function(s,n){const c=new URL(s,s.startsWith('http')?void 0:t);n&&new URLSearchParams(n).forEach(((t,s)=>c.searchParams.append(s,t)));const o=c.toString();return o.startsWith(t)?o.slice(t.length):o};const t='https://__example__.com'}),"cc4a4f",[]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrepare=function({prepareLoader:n,context:c}){n&&(0,u.collectAsyncChunks)(n,c);const[l,o]=(0,t.useState)((()=>n?.value));return(0,t.useEffect)((()=>{let t=!0;return n&&!l&&n().then((u=>{n.value=u,t&&o((()=>u))})),()=>{t=!1}}),[]),n?l||null:void 0};var t=r(d[0]),u=r(d[1])}),"d0d9f3",["07aa1f","f35aee"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.computeNormalizedCacheKey=function(n,u){return(0,t().getKeyPathValue)(n,u)?`${u.__typename}.${n.join('.')}:${(0,t().getKeyPathValue)(n,u)}`:''}}),"db2ccf",["0f44fa"]);
__d((function(g,r,i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}function n(){const t=r(d[1]);return n=function(){return t},t}function u(){const t=r(d[2]);return u=function(){return t},t}function c(){const t=r(d[3]);return c=function(){return t},t}function o(){const t=r(d[4]);return o=function(){return t},t}function f(){const t=r(d[5]);return f=function(){return t},t}function s(){const t=r(d[6]);return s=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"computeNormalizedCacheKey",{enumerable:!0,get:function(){return t().computeNormalizedCacheKey}}),Object.defineProperty(e,"deepMergeExceptArrays",{enumerable:!0,get:function(){return n().deepMergeExceptArrays}}),Object.defineProperty(e,"extractItemsWithLocators",{enumerable:!0,get:function(){return u().extractItemsWithLocators}}),Object.defineProperty(e,"extractParameterizedFieldsFromItems",{enumerable:!0,get:function(){return s().extractParameterizedFieldsFromItems}}),Object.defineProperty(e,"formatUrl",{enumerable:!0,get:function(){return c().formatUrl}}),Object.defineProperty(e,"getKeyPathValue",{enumerable:!0,get:function(){return o().getKeyPathValue}}),Object.defineProperty(e,"mergeURLSearchParams",{enumerable:!0,get:function(){return f().mergeURLSearchParams}})}),"ddd25e",["db2ccf","7eab75","0eb06a","cc4a4f","0f44fa","9cf591","a7d269"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.useSharedPrepareOptions=function(){const{cookie:t,requestDomain:u,hostname:p}=C(),D=o.default.get('cdn_experiments'),v=o.default.get('exploreTreatments'),x=o.default.get('customPrepareNiobeData'),b=o.default.get('initialPageCDNCached'),q=String(f.default.current().id||''),T=(0,n.useContext)(h.TrebuchetClientContext);return{requestDomain:u,hostname:p,getRenderingState:P().getRenderingState,cookie:t,exploreTreatments:v,customPrepareNiobeData:x,currentUserId:q,isPrefetch:!1,getTrebuchets:t=>t.map((t=>T&&T(t))),getErf:t=>{const n=D[t]??c.default.findTreatmentAndLog(t);return Promise.resolve(n)},flagger:l.default,logJitneyEvent:s.default.logJitneyEvent.bind(s.default),requestPreparePropsCache:null,initialPageCDNCached:b}};var n=r(d[1]),o=t(r(d[2])),u=t(r(d[3])),s=t(r(d[4])),l=t(r(d[5])),c=(t(r(d[6])),t(r(d[7]))),f=t(r(d[8])),h=r(d[9]),p=r(d[10]);function P(){const t=r(d[11]);return P=function(){return t},t}function C(){const{cookies:t,requestDomain:o,hostname:s}=(0,n.useContext)(p.HyperloopProvidedContext);return{cookie:t=>(0,u.default)(t)||null,requestDomain:window.location?.hostname,hostname:window.location?.hostname}}}),"de8b38",["ba7a76","07aa1f","ef2bc3","e7272f","c8b97a","dcc72a","7e6ed7","fc0842","06a99e","c5fff4","a78e15","4e4ed7"]);
__d((function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.usePrepareProps=function({niobeClients:u,prepare:l,match:s,location:c,extraProps:p,preparePropsCacheKey:b}){const{requestPreparePropsCache:C}=(0,n.useContext)(t.HyperloopProvidedContext),f=(0,n.useRef)(null),P=(0,n.useRef)(null),y=(0,o().useSharedPrepareOptions)(),M=(0,n.useRef)(c),h=(0,n.useRef)(s);h.current=s,M.current=c;const Q=(0,n.useMemo)((()=>u&&l?C?.get(b)??l?.({...y,match:h.current,location:M.current,previousPrepareProps:f.current,previousLocation:P.current,loadQuery:u.niobeMinimalistClient.preloadQuery.bind(u.niobeMinimalistClient),preloadRestQuery:u.niobeMinimalistClient.preloadRestQuery?.bind(u.niobeMinimalistClient),readQuery:u.niobeMinimalistClient.readQuery.bind(u.niobeMinimalistClient),...u,niobeClient:u.niobeClient,niobeApolloClient:u.niobeApolloClient,...p})??{}:null),[p,u,l,b,C,y]),R=Q instanceof Promise?null:Q,[v,_]=(0,n.useState)(null),x=R??v;return f.current=x,P.current=c,(0,n.useEffect)((()=>{let n=!0;return Q instanceof Promise&&Q.then((t=>{n&&_(t)})),()=>{n=!1}}),[s,c]),x};var n=r(d[0]),t=r(d[1]);function o(){const n=r(d[2]);return o=function(){return n},n}}),"dee61e",["07aa1f","a78e15","de8b38"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.getDeferredStateStream=S,e.getState=void 0,e.loadNiobeClientConstructors=async function(){const n=p().getMinimalistClientConstructor,t=f().getApolloClientConstructor;let o=[];const l=await(0,C.default)('state')??{},{loadSingleClient:s,niobeClientIsMinimalist:u}=l;o=s&&u?[n]:[n,t];return o.map((n=>n()))},e.useNiobeClients=function({context:n,onlyMinimalist:o}){const{niobeClientIsMinimalist:u,loadSingleClient:C}=(0,t.useContext)(s.HyperloopProvidedContext),{niobeClientIsMinimalist:c,loadSingleClient:b}=(0,t.useContext)(l.HyperloopPropsContext),S=o??u??c??A()?.niobeClientIsMinimalist??!1,I=o??C??b??A()?.loadSingleClient??!1,{shouldLoadApolloClient:h}=v({loadSingleClient:I,niobeClientIsMinimalist:S}),x={niobeMinimalistClient:(0,p().useMinimalistClient)({context:n}),niobeApolloClient:(0,f().useNiobeApolloClient)({context:n,skip:!h})},N={...y({...x,niobeClientIsMinimalist:S}),...x};return M(N)?N:null};var t=r(d[1]),o=n(r(d[2])),l=r(d[3]),s=r(d[4]),u=r(d[5]),C=n(r(d[6]));function c(){const n=r(d[7]);return c=function(){return n},n}function b(){const n=r(d[8]);return b=function(){return n},n}function f(){const n=r(d[9]);return f=function(){return n},n}function p(){const n=r(d[10]);return p=function(){return n},n}function M(n){return Boolean(n.niobeClient&&n.niobeMinimalistClient)}async function*S(){for(let n=0;;n+=1){S.promises[n]??=(0,C.default)(`deferred-state-${n}`);const t=await S.promises[n];if(null==t)break;yield t}}S.promises=[];const A=()=>{{if(A.value)return A.value;const n=(0,o.default)('state')||{};return'client-hydration'!==(0,c().getRenderingState)()||n?.niobeApolloClientData&&n?.niobeMinimalClientData||(0,u.isAppShell)()||'STORYBOOK_ENV'in window||(0,b().warnNiobeError)((0,b().missingSerializedNiobeCache)()),A.value=n,n}};function v({loadSingleClient:n,niobeClientIsMinimalist:t}){const o=n&&!t||!n;return{shouldCreateMinimalistClient:!0,shouldCreateApolloClient:o,shouldLoadApolloClient:o}}function y({niobeClientIsMinimalist:n,niobeMinimalistClient:t,niobeApolloClient:o}){return{niobeClient:n?t??o:o??t,niobeMinimalistClient:t}}e.getState=A}),"e7c79c",["ba7a76","07aa1f","b2dff4","ab9511","a78e15","f93908","ff7755","4e4ed7","8e002d","bcce8b","9b702c"]);
__d((function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;function t(){const s=n(r(d[1]));return t=function(){return s},s}Object.defineProperty(e,"__esModule",{value:!0}),e.asyncChunksContextTypes=void 0,e.collectAsyncChunks=function(n,t){o(n,t?.asyncChunks)},e.collectStaticAsyncChunks=function(n,t){o(n,t?.staticAsyncChunks)},e.pushAsyncChunks=void 0;var s=r(d[2]);const c=t().default.instanceOf(Set),u=t().default.instanceOf(Set);e.asyncChunksContextTypes=(0,s.markAsLegacyContext)({asyncChunks:c,staticAsyncChunks:u});function o(n,t){}e.pushAsyncChunks=(n,t)=>{}}),"f35aee",["ba7a76","b56f5a","f436c6"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const u=t(r(d[1]));return n=function(){return u},u}Object.defineProperty(e,"__esModule",{value:!0}),e.markAsLegacyContext=function(t){return t};n().default.instanceOf(Set),n().default.instanceOf(Set)}),"f436c6",["ba7a76","b56f5a"]);
__d((function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.isAppShell=function(){return!0===l.default.get('isAppShell')};var l=t(r(d[1]))}),"f93908",["ba7a76","ef2bc3"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/1742.eec32e0066.js.map